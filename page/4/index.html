<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"eimadrigal.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Hello World">
<meta property="og:type" content="website">
<meta property="og:title" content="EI Madrigal&#39;s Space">
<meta property="og:url" content="https://eimadrigal.github.io/page/4/index.html">
<meta property="og:site_name" content="EI Madrigal&#39;s Space">
<meta property="og:description" content="Hello World">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="EIMadrigal">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://eimadrigal.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>EI Madrigal's Space</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">EI Madrigal's Space</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/03/13/Loss%20Function/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/13/Loss%20Function/" class="post-title-link" itemprop="url">Loss Function</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-13 11:08:00" itemprop="dateCreated datePublished" datetime="2021-03-13T11:08:00+08:00">2021-03-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>For binary classification (+1, -1), if we classify correctly then <span class="math inline">\(y\cdot f = y\cdot \theta^Tx\gt0\)</span>; otherwise <span class="math inline">\(y\cdot f = y\cdot\theta^Tx\lt0\)</span>. Thus we have following loss functions:</p>
<ul>
<li>0/1 loss <span class="math inline">\(\min_\theta\sum_i L_{0/1}(\theta^Tx)\)</span>. We define <span class="math inline">\(L_{0/1}(\theta^Tx) =1\)</span> if <span class="math inline">\(y\cdot f \lt 0\)</span>, and <span class="math inline">\(=0\)</span> o.w. Non convex and very hard to optimize.</li>
<li>Hinge loss Upper Bound of 0/1 loss. Approximate 0/1 loss by <span class="math inline">\(\min_\theta\sum_i H(\theta^Tx)\)</span>. We define <span class="math inline">\(H(\theta^Tx) = max(0, 1 - y\cdot f)\)</span>. Apparently <span class="math inline">\(H\)</span> is small if we classify correctly.</li>
<li>Logistic loss <span class="math inline">\(\min_\theta \sum_i log(1+\exp(-y\cdot \theta^Tx))\)</span>.</li>
</ul>
<p>Fortunately, hinge loss, logistic loss and square loss are all convex functions. Convexity ensures global minimum and it's computationally appealing. <img src="https://img-blog.csdnimg.cn/20210226181824674.png" alt="在这里插入图片描述" /> Figure 7.5 from Chris Bishop's PRML book. The Hinge Loss E(z) = max(0,1-z) is plotted in blue, the Log Loss in red, the Square Loss in green and the 0/1 error in black.</p>
<p>From the figure we can observe that the hard instance (near the boundary) will influence the loss function a lot so we need to make the model robust and can deal with the hard ones.</p>
<p>For binary classification we can unify the two cases (classify correctly or not) by <span class="math inline">\(y\cdot f\)</span>, but for multi-class classification (0, 1, 2, ..., k) we cannot unify all the cases. So we use cross-entropy as the loss.</p>
<p>There exists a vivid example for transform the target function: If a noisy picture is given, and want to output the clean one. Here the clean one is hard to control so we can let the noise be the target function and wo should minimize the amplitude of the noise. Thus the problem becomes controllable.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/03/05/BusTub/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/05/BusTub/" class="post-title-link" itemprop="url">BusTub</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-05 06:24:00" itemprop="dateCreated datePublished" datetime="2021-03-05T06:24:00+08:00">2021-03-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="project-0---c-primer"><a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2020/project0/">PROJECT #0 - C++ PRIMER</a></h2>
<p>这个Warm-Up主要是要熟悉C++ 17的一些Features，只需要实现<code>p0_starter.h</code>即可； 提交gradescope，要上传zip文件，但是路径总是不对，文档里也说得不明不白，一定要加上路径名：<code>zip solution.zip src/include/primer/p0_starter.h</code>； <code>unique_ptr</code>拥有对象的独占权，可以用<code>move</code>将对象的所有权转移到另一个<code>unique_ptr</code>。</p>
<p>第一次提交时有内存安全隐患： <img src="https://img-blog.csdnimg.cn/20201227221401866.png" alt="在这里插入图片描述" /> 网上说可能是valgrind版本过低，用高版本测试后发现没问题： <img src="https://img-blog.csdnimg.cn/20201227221456847.png" alt="在这里插入图片描述" /> 其实代码是有bug的，经过测试，发现问题在于实现矩阵乘法时定义了临时变量<code>double tmp = 0.0</code>：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> tmp = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; mat1-&gt;<span class="built_in">GetColumns</span>(); ++k) &#123;</span><br><span class="line">  tmp += mat1-&gt;<span class="built_in">GetElem</span>(i, k) * mat2-&gt;<span class="built_in">GetElem</span>(k, j);</span><br><span class="line">&#125;</span><br><span class="line">ans-&gt;<span class="built_in">SetElem</span>(i, j, tmp);</span><br></pre></td></tr></table></figure>
<p>改为：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; mat1-&gt;<span class="built_in">GetColumns</span>(); ++k) &#123;</span><br><span class="line">  ans-&gt;<span class="built_in">SetElem</span>(i, j, ans-&gt;<span class="built_in">GetElem</span>(i, j) + mat1-&gt;<span class="built_in">GetElem</span>(i, k) * mat2-&gt;<span class="built_in">GetElem</span>(k, j));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我个人理解是这样：因为原本代码中是模板参数<code>T</code>，如果定义<code>double</code>作为临时变量，测试时用<code>int</code>测试，最终<code>SetElem</code>时要存入<code>double</code>，但是预先分配的内存只有<code>int</code>大小，所以内存溢出报错。 <img src="https://img-blog.csdnimg.cn/20210127214548109.png" alt="在这里插入图片描述" /> ## <a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2020/project1/">PROJECT #1 - BUFFER POOL MANAGER</a> 整体要为<a target="_blank" rel="noopener" href="https://github.com/cmu-db/bustub">Bustub</a>做一个面向磁盘的存储管理系统： <img src="https://img-blog.csdnimg.cn/20210225225705723.png" alt="在这里插入图片描述" /> 第一次作业是要实现一个内存缓冲池：负责将物理页面在磁盘和主存之间移动，这样DBMS就可以支持比内存更大的数据库。缓冲池的操作对其它系统部件是透明的，比如系统通过唯一的页面标识符<code>page_id_t</code>向缓冲池要求访问页面，而不管页面是在内存中还是在磁盘上。</p>
<p>缓冲池的实现必须是线程安全的，多个线程同时访问时需要用latches保护（OS中叫locks）。 关于DBMS中的🔒： - locks：高层次的逻辑原语，在事务的整个执行过程中保护数据库的内容（元组/表/数据库），可以rollback - latches：低层次的保护原语，DBMS用来保护内部数据结构的安全访问（hash table, regions of memory），只在某个具体操作时使用，不可以rollback</p>
<p>具体来说：有2部分：LRU替换策略+缓冲池管理 - LRU LRU的实现有多种方式： 1、数组+时间戳：每次插入新数据项的时候，先把数组中存在的数据项的时间戳自增，并将新数据项的时间戳置为0并插入到数组中。每次访问数组中的数据项的时候，将被访问的数据项的时间戳置为0。当数组空间已满时，将时间戳最大的数据项淘汰。 2、双向链表：每次新插入数据的时候将新数据插到链表的头部；每次缓存命中（即数据被访问），则将数据移到链表头部；那么当链表满的时候，就将链表尾部的数据丢弃。 上面两种复杂度均是O(n) 3、双向链表+Hash Map：当需要插入新的数据项的时候，如果新数据项在链表中存在（一般称为命中），则把该节点移到链表头部，如果不存在，则新建一个节点，放到链表头部，若缓存满了，则把链表最后一个节点删除即可。在访问数据的时候，如果数据项在链表中存在，则把该节点移到链表头部，否则返回-1。这样一来在链表尾部的节点就是最近最久未访问的数据项。本质上是list看作时间戳，hash table记录元素值到链表位置的映射关系，get和put均是O(1)。 - 缓冲池管理 缓冲池的组织形式是frame数目固定的数组，访问时将page从磁盘拷贝到frame。 与OS内存管理相似，也需要有page table记录哪些page在buffer pool中，page id -&gt; frame id；page directory记录了磁盘上的位置，page id -&gt; page locations in disk。 还需要有dirty位以及pin/ref counter记录当前正在访问的线程数目，只有flush或者置换脏页时才写回磁盘。 <img src="https://img-blog.csdnimg.cn/2021022523062865.png" alt="在这里插入图片描述" /> 缓冲池和<code>Replacer</code>的大小是相同的，如果page的ref counter变为0时就可以加入到<code>Replacer</code>中作为替补牺牲页面。</p>
<p>从缓冲池中根据ID fetch的时候有3种情况： 1. 如果page在缓冲池，直接返回； 2. 如果不在，但缓冲池有空闲frame，从磁盘读取page放入该frame； 3. 如果不在且缓冲池没有空闲frame，从buffer中牺牲一页，从磁盘读取page放入对应的frame。</p>
<p>第一次提交忘了处理并发问题，只得了65分： <img src="https://img-blog.csdnimg.cn/20210209211524362.png" alt="在这里插入图片描述" /> 加了一些🔒后，还有2个test挂了： <img src="https://img-blog.csdnimg.cn/20210209215248107.png" alt="在这里插入图片描述" /> <code>isdirty</code>一直过不去，后来在群里看到：只有page当前的脏位是false且传入<code>is_dirty==true</code>时才需要修改当前的脏位。这里我是这么理解的：如果页面应该标记为dirty那么传入的参数就是true： - 当前为true &amp;&amp; <code>is_dirty==true</code>：页面修改过，也做了正确标记，不用管； - 当前为false &amp;&amp; <code>is_dirty==true</code>：页面其实修改过，但没有标记，改正； - 当前为false &amp;&amp; <code>is_dirty==false</code>：页面没修改，标记正确，不用管； - 当前为true &amp;&amp; <code>is_dirty==false</code>：页面没修改，标记为修改过，这种也不用管，大不了置换时写回磁盘耗费些时间。 <img src="https://img-blog.csdnimg.cn/20210210204925713.png" alt="在这里插入图片描述" /> 数据库真的太难了，尤其是涉及到并发控制的部分，我真的没有足够时间去debug这些，以后有空再继续做吧。。 ## <a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2020/project2/">PROJECT #2 - B+ TREE</a> ## <a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2020/project3/">PROJECT #3 - QUERY EXECUTION</a> ## <a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2020/project4/">PROJECT #4 - CONCURRENCY CONTROL</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/02/25/Flow%20Control%20&%20Congestion%20Control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/25/Flow%20Control%20&%20Congestion%20Control/" class="post-title-link" itemprop="url">Flow Control & Congestion Control</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-02-25 09:43:00" itemprop="dateCreated datePublished" datetime="2021-02-25T09:43:00+08:00">2021-02-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>In order to make sure that every packet reaches its destination, we use Retransmit. There are 3 approaches: Stop-and-Wait, Go Back N and Selective Repeat.</p>
<ul>
<li>Stop-and-Wait Sender transmits packet one by one, label each with a sequence number and sets timer after transmitting. If receive ACK, send next. If timer goes off, resend the previous packet. When receive packet, send ACK. If packet is corrupted, ignore it and sender will resend.</li>
<li>SR Send packets from the window and set timeout for each packet. On receiving ACK for left side of the window, slide forward and send packets that have now entered the window. On timeout, resend only the timed out packet. Receiver keeps a buffer of size of the window. On receiving packets, send ACK. If packet comes in out of order, just store it in the buffer and send ACK anyway. ## How big should we size the sender's window Don't overload the receiver. Sender cannot send as fast as possible since it will overflow the receiver's buffer. <img src="https://img-blog.csdnimg.cn/20200417151819468.png" alt="在这里插入图片描述" /> The solution is Advertised Window (W): tell the sender how much space the receiver's buffer has through ACK. So the window size of the sender: the size &lt;= W. Thus we won't overload the receiver. This is Flow Control.</li>
</ul>
<p>But if we set the size to W, we cannot solve the problem thoroughly: <img src="https://img-blog.csdnimg.cn/2021022516554078.png" alt="在这里插入图片描述" /> Sender's window contains a set of packets that have been transmitted but not yet acked. But some packets will get dropped at router and sender will never receive ACKs for these packets. The result is these packets will remain buffered in the window. It means that we cannot set the size to W, we only want to send at 50Mbps. It will take a RTT(200ms) to receive an ACK back for the first packet. We will send 50*200=1.25MB data and that's exactly the definition of the sender's window.</p>
<p>The window size of the sender should &lt;= bandwidth-delay product (BDP). Thus we won't overload the network. This is Congestion Control. BDP is the "volume" of the link, the amount of data that can be "in flight" at any time. ## How should we determine the BDP Things are much harder to calculate the BDP:</p>
<ul>
<li>We don't know the bandwidth or RTT</li>
<li>My share of bandwidth is dependent on the other user on the network, so the window size will change as other users start or stop sending</li>
<li>The router will stall the excess packets in the bottleneck queue instead of dropping, so you can overshoot the size a little bit</li>
</ul>
<p>There are many algorithms to solve the problem given the prior constraints. The old one is Reno, although no one uses it anymore, sigh!!</p>
<p>Use Multiplicative Increase at startup to find the right sending rate quickly, this process is called "slow start"; Then uses Additive Increase/Multiplicative Decrease (AIMD) to adjust the sending rate over time. <img src="https://img-blog.csdnimg.cn/20210225174103869.png" alt="在这里插入图片描述" /> ## Reference <a target="_blank" rel="noopener" href="https://computer-networks.github.io/sp19/lectures.html">CMU 15-441 TCP Part 2</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/02/07/Maximum%20Entropy%20Model/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/07/Maximum%20Entropy%20Model/" class="post-title-link" itemprop="url">Maximum Entropy Model</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-02-07 05:08:00" itemprop="dateCreated datePublished" datetime="2021-02-07T05:08:00+08:00">2021-02-07</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>熵是对随机变量<strong>不确定性</strong>的度量，是对所有可能发生的事件产生的信息量的期望，没有外部能量输入的情况下，封闭系统趋向熵增。</p>
<p>信息熵指离散随机事件的出现概率：<span class="math inline">\(X={x_1,x_2,...,x_n}\)</span>，<span class="math inline">\(P(X=x_i)=p_i\)</span> <span class="math display">\[
H(X)=-\sum_{i=1}^{n}p(x_i)log\ p(x_i)
\]</span></p>
<p>Joint Entropy <span class="math display">\[
H(X,Y)=-\sum_{i=1}^{n}\sum_{j=1}^{m}p(i,j)log\ p(i,j)
\]</span></p>
<p><span class="math display">\[
H(X|y_j)=-\sum_{i=1}^{n}p(x_i|y_j)log\ p(x_i|y_j)
\]</span></p>
<p>按照<span class="math inline">\(Y\)</span>的各种情况进行加权平均，得条件熵<span class="math inline">\(H(X|Y)\)</span> <span class="math display">\[
H(X|Y)=-\sum_{i=1}^{n}\sum_{j=1}^{m}p(y_j)p(x_i|y_j)log\ p(x_i|y_j)=-\sum_{i=1}^{n}\sum_{j=1}^{m}p(x_i,y_j)log\ p(x_i|y_j)
\]</span> 易证<span class="math inline">\(H(X|Y)=H(X,Y)-H(Y)\)</span></p>
<p>交叉熵，<span class="math inline">\(P(X)\)</span>和<span class="math inline">\(Q(X)\)</span>是<span class="math inline">\(X\)</span>的两个概率分布 <span class="math display">\[
D_{KL}(P\ ||\ Q)=\sum_xP(x)log\frac{P(x)}{Q(x)}
\]</span></p>
<p>互信息 <span class="math display">\[
I(X,Y)=\sum_x\sum_yp(x,y)log\frac{p(x,y)}{p(x)p(y)}
\]</span> 互信息就是联合分布<span class="math inline">\(P(X,Y)\)</span>和独立分布乘积<span class="math inline">\(P(X)P(Y)\)</span>的交叉熵。 易证<span class="math inline">\(I(X,Y)=H(X)+H(Y)-H(X,Y)\)</span></p>
<p>直观上看：在已知部分知识的前提下，对于未知分布最合理的推断就是符合已知且最不确定的推断，整个系统趋向于无序，熵最大。 在一定<strong>约束条件</strong>下，使得<span class="math inline">\(H(X|Y)\)</span>最大。 <span class="math display">\[
p^*={\underset {p\in P}{\operatorname {arg\,max} }}\,-\sum_{i=1}^{n}\sum_{j=1}^{m}\bar p(y_j)p(x_i|y_j)log\ p(x_i|y_j)
\]</span> 约束条件： <span class="math display">\[
\sum_xp(x|y)=1 \\
...
\]</span> 又可以通过拉格朗日乘数法变为对偶问题求解。</p>
<p>由于无法求得解析解，只能用迭代法求数值解： <span class="math display">\[
p^*(x|y)=\cfrac{1}{Z_\lambda(y)}e^{\sum_i\lambda_if_i(x,y)} \\
Z_\lambda(y)=\sum_xe^{\sum_i\lambda_if_i(x,y)}
\]</span></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/01/30/Python%20FAQ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/30/Python%20FAQ/" class="post-title-link" itemprop="url">Python FAQ</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-30 03:01:00" itemprop="dateCreated datePublished" datetime="2021-01-30T03:01:00+08:00">2021-01-30</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="lambda表达式">lambda表达式</h2>
<p>对于一句话的函数，均可以用lambda表达式，一种语法糖。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line">f = <span class="keyword">lambda</span> x: x ** <span class="number">2</span></span><br><span class="line">g = <span class="keyword">lambda</span> x, y: x + y</span><br><span class="line">a.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quadratic</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: a*x*x + b*x + c</span><br><span class="line"></span><br><span class="line">f = quadratic(<span class="number">1</span>, -<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">f(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">quadratic(<span class="number">1</span>, -<span class="number">1</span>, <span class="number">2</span>)(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="decorator">decorator</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># messy</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    t1 = time.time()</span><br><span class="line">    c = a + b</span><br><span class="line">    t2 = time.time()</span><br><span class="line">    <span class="built_in">print</span>(t2 - t1)</span><br><span class="line">    <span class="keyword">return</span> c</span><br></pre></td></tr></table></figure>
<p>如果使用装饰器： <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args</span>):</span></span><br><span class="line">        t1 = time.time()</span><br><span class="line">        res = func(*args)  <span class="comment"># do something</span></span><br><span class="line">        t2 = time.time()</span><br><span class="line">        <span class="built_in">print</span>(t2 - t1)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@display_time</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line">ans = add(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(ans)</span><br></pre></td></tr></table></figure></p>
<h2 id="basics">Basics</h2>
<ol type="1">
<li>两个列表转字典：<code>dict(zip(list1, list2))</code></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_37579123/article/details/89515577">Python中__new__()和__init__()的区别</a>：Python中的constructor是<code>__new__</code>，initializer是<code>__init__</code>。<code>__new__</code>首先被调用创建新实例并返回该实例，始终作为类的静态方法，类级别方法，默认调用父类的<code>__new__</code>构造该类的实例，也可以重写<code>__new__</code>，构造出来的对象取决于<code>__new__</code>，<code>__new__</code>返回什么就是什么；<code>__init__</code>没有返回值负责初始化创建的实例，实例级别方法，其<code>self</code>参数就是<code>__new__</code>返回的实例。</li>
<li><a target="_blank" rel="noopener" href="https://hj24.life/posts/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E7%A8%8B%E6%B5%85%E6%9E%90/">Python中的进程/线程/协程</a>： 协程是比线程更小的执行单元，也叫微线程，用户态，在单线程上执行多个任务，一个任务等待时执行另一个任务，使用的内存动态变化，切换调度由用户控制，避免线程的系统级别切换的开销，内存利用率更高。 Python的协程是1：N</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">animals = [<span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;monkey&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> idx, animal <span class="keyword">in</span> <span class="built_in">enumerate</span>(animals):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;#%d: %s&#x27;</span> % (idx + <span class="number">1</span>, animal))</span><br><span class="line"><span class="comment"># Prints &quot;#1: cat&quot;, &quot;#2: dog&quot;, &quot;#3: monkey&quot;, each on its own line</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">&#x27;person&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;cat&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;spider&#x27;</span>: <span class="number">8</span>&#125;</span><br><span class="line"><span class="keyword">for</span> animal, legs <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;A %s has %d legs&#x27;</span> % (animal, legs))</span><br><span class="line"><span class="comment"># Prints &quot;A person has 2 legs&quot;, &quot;A cat has 4 legs&quot;, &quot;A spider has 8 legs&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">animals = &#123;<span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;fish&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> idx, animal <span class="keyword">in</span> <span class="built_in">enumerate</span>(animals):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;#%d: %s&#x27;</span> % (idx + <span class="number">1</span>, animal))</span><br><span class="line"><span class="comment"># Prints &quot;#1: fish&quot;, &quot;#2: dog&quot;, &quot;#3: cat&quot;</span></span><br></pre></td></tr></table></figure>
<p>one of the most important differences is that tuples can be used as keys in dictionaries and as elements of sets, while lists cannot.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeter</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Constructor</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name  <span class="comment"># Create an instance variable</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Instance method</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">greet</span>(<span class="params">self, loud=<span class="literal">False</span></span>):</span></span><br><span class="line">        <span class="keyword">if</span> loud:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;HELLO, %s!&#x27;</span> % self.name.upper())</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Hello, %s&#x27;</span> % self.name)</span><br><span class="line"></span><br><span class="line">g = Greeter(<span class="string">&#x27;Fred&#x27;</span>)  <span class="comment"># Construct an instance of the Greeter class</span></span><br><span class="line">g.greet()            <span class="comment"># Call an instance method; prints &quot;Hello, Fred&quot;</span></span><br><span class="line">g.greet(loud=<span class="literal">True</span>)   <span class="comment"># Call an instance method; prints &quot;HELLO, FRED!&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])   <span class="comment"># Create a rank 1 array</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))            <span class="comment"># Prints &quot;&lt;class &#x27;numpy.ndarray&#x27;&gt;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a.shape)            <span class="comment"># Prints &quot;(3,)&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>], a[<span class="number">1</span>], a[<span class="number">2</span>])   <span class="comment"># Prints &quot;1 2 3&quot;</span></span><br><span class="line">a[<span class="number">0</span>] = <span class="number">5</span>                  <span class="comment"># Change an element of the array</span></span><br><span class="line"><span class="built_in">print</span>(a)                  <span class="comment"># Prints &quot;[5, 2, 3]&quot;</span></span><br><span class="line"></span><br><span class="line">b = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])    <span class="comment"># Create a rank 2 array</span></span><br><span class="line"><span class="built_in">print</span>(b.shape)                     <span class="comment"># Prints &quot;(2, 3)&quot;</span></span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">0</span>, <span class="number">0</span>], b[<span class="number">0</span>, <span class="number">1</span>], b[<span class="number">1</span>, <span class="number">0</span>])   <span class="comment"># Prints &quot;1 2 4&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.zeros((<span class="number">2</span>,<span class="number">2</span>))   <span class="comment"># Create an array of all zeros</span></span><br><span class="line"><span class="built_in">print</span>(a)              <span class="comment"># Prints &quot;[[ 0.  0.]</span></span><br><span class="line">                      <span class="comment">#          [ 0.  0.]]&quot;</span></span><br><span class="line"></span><br><span class="line">b = np.ones((<span class="number">1</span>,<span class="number">2</span>))    <span class="comment"># Create an array of all ones</span></span><br><span class="line"><span class="built_in">print</span>(b)              <span class="comment"># Prints &quot;[[ 1.  1.]]&quot;</span></span><br><span class="line"></span><br><span class="line">c = np.full((<span class="number">2</span>,<span class="number">2</span>), <span class="number">7</span>)  <span class="comment"># Create a constant array</span></span><br><span class="line"><span class="built_in">print</span>(c)               <span class="comment"># Prints &quot;[[ 7.  7.]</span></span><br><span class="line">                       <span class="comment">#          [ 7.  7.]]&quot;</span></span><br><span class="line"></span><br><span class="line">d = np.eye(<span class="number">2</span>)         <span class="comment"># Create a 2x2 identity matrix</span></span><br><span class="line"><span class="built_in">print</span>(d)              <span class="comment"># Prints &quot;[[ 1.  0.]</span></span><br><span class="line">                      <span class="comment">#          [ 0.  1.]]&quot;</span></span><br><span class="line"></span><br><span class="line">e = np.random.random((<span class="number">2</span>,<span class="number">2</span>))  <span class="comment"># Create an array filled with random values</span></span><br><span class="line"><span class="built_in">print</span>(e)                     <span class="comment"># Might print &quot;[[ 0.91940167  0.08143941]</span></span><br><span class="line">                             <span class="comment">#               [ 0.68744134  0.87236687]]&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create the following rank 2 array with shape (3, 4)</span></span><br><span class="line"><span class="comment"># [[ 1  2  3  4]</span></span><br><span class="line"><span class="comment">#  [ 5  6  7  8]</span></span><br><span class="line"><span class="comment">#  [ 9 10 11 12]]</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>], [<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use slicing to pull out the subarray consisting of the first 2 rows</span></span><br><span class="line"><span class="comment"># and columns 1 and 2; b is the following array of shape (2, 2):</span></span><br><span class="line"><span class="comment"># [[2 3]</span></span><br><span class="line"><span class="comment">#  [6 7]]</span></span><br><span class="line">b = a[:<span class="number">2</span>, <span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># A slice of an array is a view into the same data, so modifying it</span></span><br><span class="line"><span class="comment"># will modify the original array.</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>, <span class="number">1</span>])   <span class="comment"># Prints &quot;2&quot;</span></span><br><span class="line">b[<span class="number">0</span>, <span class="number">0</span>] = <span class="number">77</span>     <span class="comment"># b[0, 0] is the same piece of data as a[0, 1]</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>, <span class="number">1</span>])   <span class="comment"># Prints &quot;77&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create the following rank 2 array with shape (3, 4)</span></span><br><span class="line"><span class="comment"># [[ 1  2  3  4]</span></span><br><span class="line"><span class="comment">#  [ 5  6  7  8]</span></span><br><span class="line"><span class="comment">#  [ 9 10 11 12]]</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>], [<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Two ways of accessing the data in the middle row of the array.</span></span><br><span class="line"><span class="comment"># Mixing integer indexing with slices yields an array of lower rank,</span></span><br><span class="line"><span class="comment"># while using only slices yields an array of the same rank as the</span></span><br><span class="line"><span class="comment"># original array:</span></span><br><span class="line">row_r1 = a[<span class="number">1</span>, :]    <span class="comment"># Rank 1 view of the second row of a</span></span><br><span class="line">row_r2 = a[<span class="number">1</span>:<span class="number">2</span>, :]  <span class="comment"># Rank 2 view of the second row of a</span></span><br><span class="line"><span class="built_in">print</span>(row_r1, row_r1.shape)  <span class="comment"># Prints &quot;[5 6 7 8] (4,)&quot;</span></span><br><span class="line"><span class="built_in">print</span>(row_r2, row_r2.shape)  <span class="comment"># Prints &quot;[[5 6 7 8]] (1, 4)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># We can make the same distinction when accessing columns of an array:</span></span><br><span class="line">col_r1 = a[:, <span class="number">1</span>]</span><br><span class="line">col_r2 = a[:, <span class="number">1</span>:<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(col_r1, col_r1.shape)  <span class="comment"># Prints &quot;[ 2  6 10] (3,)&quot;</span></span><br><span class="line"><span class="built_in">print</span>(col_r2, col_r2.shape)  <span class="comment"># Prints &quot;[[ 2]</span></span><br><span class="line">                             <span class="comment">#          [ 6]</span></span><br><span class="line">                             <span class="comment">#          [10]] (3, 1)&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># An example of integer array indexing.</span></span><br><span class="line"><span class="comment"># The returned array will have shape (3,) and</span></span><br><span class="line"><span class="built_in">print</span>(a[[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]])  <span class="comment"># Prints &quot;[1 4 5]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The above example of integer array indexing is equivalent to this:</span></span><br><span class="line"><span class="built_in">print</span>(np.array([a[<span class="number">0</span>, <span class="number">0</span>], a[<span class="number">1</span>, <span class="number">1</span>], a[<span class="number">2</span>, <span class="number">0</span>]]))  <span class="comment"># Prints &quot;[1 4 5]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When using integer array indexing, you can reuse the same</span></span><br><span class="line"><span class="comment"># element from the source array:</span></span><br><span class="line"><span class="built_in">print</span>(a[[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>]])  <span class="comment"># Prints &quot;[2 2]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Equivalent to the previous integer array indexing example</span></span><br><span class="line"><span class="built_in">print</span>(np.array([a[<span class="number">0</span>, <span class="number">1</span>], a[<span class="number">0</span>, <span class="number">1</span>]]))  <span class="comment"># Prints &quot;[2 2]&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a new array from which we will select elements</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>], [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># prints &quot;array([[ 1,  2,  3],</span></span><br><span class="line">          <span class="comment">#                [ 4,  5,  6],</span></span><br><span class="line">          <span class="comment">#                [ 7,  8,  9],</span></span><br><span class="line">          <span class="comment">#                [10, 11, 12]])&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create an array of indices</span></span><br><span class="line">b = np.array([<span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Select one element from each row of a using the indices in b</span></span><br><span class="line"><span class="built_in">print</span>(a[np.arange(<span class="number">4</span>), b])  <span class="comment"># Prints &quot;[ 1  6  7 11]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mutate one element from each row of a using the indices in b</span></span><br><span class="line">a[np.arange(<span class="number">4</span>), b] += <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># prints &quot;array([[11,  2,  3],</span></span><br><span class="line">          <span class="comment">#                [ 4,  5, 16],</span></span><br><span class="line">          <span class="comment">#                [17,  8,  9],</span></span><br><span class="line">          <span class="comment">#                [10, 21, 12]])</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line">bool_idx = (a &gt; <span class="number">2</span>)   <span class="comment"># Find the elements of a that are bigger than 2;</span></span><br><span class="line">                     <span class="comment"># this returns a numpy array of Booleans of the same</span></span><br><span class="line">                     <span class="comment"># shape as a, where each slot of bool_idx tells</span></span><br><span class="line">                     <span class="comment"># whether that element of a is &gt; 2.</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(bool_idx)      <span class="comment"># Prints &quot;[[False False]</span></span><br><span class="line">                     <span class="comment">#          [ True  True]</span></span><br><span class="line">                     <span class="comment">#          [ True  True]]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># We use boolean array indexing to construct a rank 1 array</span></span><br><span class="line"><span class="comment"># consisting of the elements of a corresponding to the True values</span></span><br><span class="line"><span class="comment"># of bool_idx</span></span><br><span class="line"><span class="built_in">print</span>(a[bool_idx])  <span class="comment"># Prints &quot;[3 4 5 6]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># We can do all of the above in a single concise statement:</span></span><br><span class="line"><span class="built_in">print</span>(a[a &gt; <span class="number">2</span>])     <span class="comment"># Prints &quot;[3 4 5 6]&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>])   <span class="comment"># Let numpy choose the datatype</span></span><br><span class="line"><span class="built_in">print</span>(x.dtype)         <span class="comment"># Prints &quot;int64&quot;</span></span><br><span class="line"></span><br><span class="line">x = np.array([<span class="number">1.0</span>, <span class="number">2.0</span>])   <span class="comment"># Let numpy choose the datatype</span></span><br><span class="line"><span class="built_in">print</span>(x.dtype)             <span class="comment"># Prints &quot;float64&quot;</span></span><br><span class="line"></span><br><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>], dtype=np.int64)   <span class="comment"># Force a particular datatype</span></span><br><span class="line"><span class="built_in">print</span>(x.dtype)                         <span class="comment"># Prints &quot;int64&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]], dtype=np.float64)</span><br><span class="line">y = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]], dtype=np.float64)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Elementwise sum; both produce the array</span></span><br><span class="line"><span class="comment"># [[ 6.0  8.0]</span></span><br><span class="line"><span class="comment">#  [10.0 12.0]]</span></span><br><span class="line"><span class="built_in">print</span>(x + y)</span><br><span class="line"><span class="built_in">print</span>(np.add(x, y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Elementwise difference; both produce the array</span></span><br><span class="line"><span class="comment"># [[-4.0 -4.0]</span></span><br><span class="line"><span class="comment">#  [-4.0 -4.0]]</span></span><br><span class="line"><span class="built_in">print</span>(x - y)</span><br><span class="line"><span class="built_in">print</span>(np.subtract(x, y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Elementwise product; both produce the array</span></span><br><span class="line"><span class="comment"># [[ 5.0 12.0]</span></span><br><span class="line"><span class="comment">#  [21.0 32.0]]</span></span><br><span class="line"><span class="built_in">print</span>(x * y)</span><br><span class="line"><span class="built_in">print</span>(np.multiply(x, y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Elementwise division; both produce the array</span></span><br><span class="line"><span class="comment"># [[ 0.2         0.33333333]</span></span><br><span class="line"><span class="comment">#  [ 0.42857143  0.5       ]]</span></span><br><span class="line"><span class="built_in">print</span>(x / y)</span><br><span class="line"><span class="built_in">print</span>(np.divide(x, y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Elementwise square root; produces the array</span></span><br><span class="line"><span class="comment"># [[ 1.          1.41421356]</span></span><br><span class="line"><span class="comment">#  [ 1.73205081  2.        ]]</span></span><br><span class="line"><span class="built_in">print</span>(np.sqrt(x))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">y = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line">v = np.array([<span class="number">9</span>,<span class="number">10</span>])</span><br><span class="line">w = np.array([<span class="number">11</span>, <span class="number">12</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Inner product of vectors; both produce 219</span></span><br><span class="line"><span class="built_in">print</span>(v.dot(w))</span><br><span class="line"><span class="built_in">print</span>(np.dot(v, w))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Matrix / vector product; both produce the rank 1 array [29 67]</span></span><br><span class="line"><span class="built_in">print</span>(x.dot(v))</span><br><span class="line"><span class="built_in">print</span>(np.dot(x, v))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Matrix / matrix product; both produce the rank 2 array</span></span><br><span class="line"><span class="comment"># [[19 22]</span></span><br><span class="line"><span class="comment">#  [43 50]]</span></span><br><span class="line"><span class="built_in">print</span>(x.dot(y))</span><br><span class="line"><span class="built_in">print</span>(np.dot(x, y))</span><br></pre></td></tr></table></figure>
<h2 id="问题">问题</h2>
<p>遇到一个问题： <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">nums = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inorder</span>(<span class="params">root</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            inorder(root.left)</span><br><span class="line">            nums.append(root.val)</span><br><span class="line">            inorder(root.right)</span><br><span class="line">        </span><br><span class="line">        inorder(proot)</span><br></pre></td></tr></table></figure> 这段代码不会报错，但是如果： <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cnt, ans = <span class="number">0</span>, -<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inorder</span>(<span class="params">root</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            inorder(root.left)</span><br><span class="line">            cnt += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cnt == k:</span><br><span class="line">                ans = root.val</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            inorder(root.right)</span><br></pre></td></tr></table></figure> 就会报错<code>UnboundLocalError: local variable 'cnt' referenced before assignment</code> 不太理解为啥list没事，后来<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/2609518/unboundlocalerror-with-nested-function-scopes">SO</a>上的回答我大概明白了： python通过赋值操作来判断是否是局部变量，但是nums的append不是赋值，因此只要不在嵌套函数里赋值都不会报错。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/01/28/A%20new%20classification%20algorithm%20recommendation%20method%20based%20on%20link%20prediction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/28/A%20new%20classification%20algorithm%20recommendation%20method%20based%20on%20link%20prediction/" class="post-title-link" itemprop="url">A new classification algorithm recommendation method based on link prediction</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-28 14:05:00" itemprop="dateCreated datePublished" datetime="2021-01-28T14:05:00+08:00">2021-01-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这篇文章主要还是在元模型上创新，采用基于链接预测的方式为新数据集推荐分类算法。基本框架如下： <img src="https://img-blog.csdnimg.cn/20210127113628615.png" alt="在这里插入图片描述" /> 用元学习做AutoML主要关注：元特征、元目标的表现形式、元模型。 ## 元特征 第一步包括提特征和识别可用算法。 目前流行的元特征有5种：</p>
<ul>
<li>statistical and information-theory based</li>
<li>model structure based</li>
<li>landmarking</li>
<li>problem-complexity</li>
<li>structural information</li>
</ul>
<p>由于每个数据集可能有不定数目的可用算法，文章采用了multiple comparison procedure：如果我们用acc作为衡量标准（除此以外本文还用了ARR作为标准，将时间因素也考虑进去），这个程序能用统计检验的方法发现一系列与最佳算法相差不显著的候选算法。文中具体使用的统计检验方法是Friedman Test+Holm procedure test，即如果Friedman Test认为所有算法性能相差不显著，那么所有的算法都是meta target；否则以表现最佳的算法为参考，用Holm procedure test去识别和最佳算法没有显著差异的算法们作为meta target。 这样就得到了元数据<span class="math inline">\(M=\{m_1,...,m_n\},m_i=&lt;x_i,y_i&gt;\)</span>，其中<span class="math inline">\(x_i=(f_{i1},...,f_{ip})\)</span>是该数据集的p个元特征，<span class="math inline">\(y_i=(a_1,...,a_q)\)</span>是q个合适的算法。 ## 元目标形式 有4种： - 单标签 - 多标签 - 连续值：预测算法的表现，回归问题 - 排序：预测算法之间的相对顺序 ## 元模型 - 分类 - 回归 - ranking</p>
<p>本文将问题看作多标签分类，并采用DAR图+链接预测作为分类模型。 建的是一个异构图，有数据集（元特征作为结点属性）和算法（算法名作为属性）两种结点，有d-d和d-a两种无向边，d-d边的构建通过数据集间的相似性（<strong>欧氏距离</strong>最近的k个邻居，需要将元特征标准化min-max scaling），d-a边就用每个数据集的候选算法构建。 建图的伪代码： <img src="https://img-blog.csdnimg.cn/2021012815482635.png" alt="在这里插入图片描述" /> 建好图后就可以推荐了，伪代码如下： <img src="https://img-blog.csdnimg.cn/20210128161524948.png" alt="在这里插入图片描述" /> 文章里LPMethod有3种：Katz,LRW,SRW。 综上，预测时需要的参数有：训练集<span class="math inline">\(D=\{d_1,...,d_n\}\)</span>，候选算法集<span class="math inline">\(A=\{a_1,..,a_m\}\)</span>，推荐的算法数目，每个数据集结点的邻边数目<span class="math inline">\(k\)</span>。 ## 评估 评估指标包括5个：Hamming损失、F值、acc、HitRatio、RA（推荐准确率）。 考虑DAR图的边的权重，类似概率图模型 &lt;/x_i,y_i&gt;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/01/22/Climbing%20Summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/22/Climbing%20Summary/" class="post-title-link" itemprop="url">Climbing Summary</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-22 14:20:00" itemprop="dateCreated datePublished" datetime="2021-01-22T14:20:00+08:00">2021-01-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>看完<em>Everest</em>之后，我也做着有朝一日登顶珠峰的白日梦。懒癌晚期也没爬过几座山，希望有机会挑战下雪山（嘿！又一个雄心勃勃的flag）。</p>
<ul>
<li>骊山 没什么好说的，海拔1300+，高中翻个墙就是山路，基本没有难度。</li>
<li>太白山 很冷，海拔3700+，6月上到峰顶还是很冷，只有下面是旅游开发区，上面一大部分路段都没有开发，只是用石头简单铺了，手机没有信号，基本没有歇脚的地，风吹得你怀疑人生。</li>
<li>华山 海拔2100+，夏天上去完全不用外套，注意防晒，爬起来也没啥难度，基本开发地都不错，只是很多地方非常险峻，比如鹞子翻身、大索道，听说还有完全透明的那种。 <img src="https://img-blog.csdnimg.cn/20200829222658646.png" alt="在这里插入图片描述" /> 路线很多，随你怎么走了。 我们是前一天晚上到华山北站，休息一晚，然后游客中心-&gt;北峰索道-&gt;北峰-&gt;中峰-&gt;东峰-&gt;南峰-&gt;西峰-&gt;西峰索道-&gt;游客中心，本来想走玉泉院徒步上去，但是人家关闭了，而且一天时间也不够，晚上在华山北休息了一晚，第三天早上回西安。 我觉得最刺激的有几处： 很多地方都有那种近乎于垂直的台阶，甚至有超过90度的，反正我上到一半就撤了。。 鹞子翻身：没敢玩 长空栈道：没敢去 西峰索道：下行20min，真刺激，山谷间吹个小风，索道就左右飘~</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/01/16/MLE%20&%20MAP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/16/MLE%20&%20MAP/" class="post-title-link" itemprop="url">MLE & MAP</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-16 06:41:00" itemprop="dateCreated datePublished" datetime="2021-01-16T06:41:00+08:00">2021-01-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>自从贝叶斯理论诞生以后，频率学派和贝叶斯学派的争论一直没有停歇，平时的学习太注重公式计算，故在此谈谈自己对贝叶斯理论的一些认识。</p>
<p>频率学派认为概率是基于大量实验所得的定值（大数定理），比如抛掷一枚材质均匀的硬币10000次，出现正面的次数有4995次，反面的次数有5005次，大致认为出现正反面的概率都是50%。然而现实生活中很多事情是无法做大量实验的，比如某人得心脏病的概率是5%，显然我们无法通过多次实验来计算出这个概率值。回到硬币的例子，如果只允许你抛5次，5次的结果都是正面，那么出现正面的概率是100%了吗？显然这是存在弊端的。</p>
<p>再来看一个非常经典的医学上的例子：有一种很稀有的病，得病的人检测结果呈阳性的概率是0.9，没得病的人检测结果呈阴性的概率也是0.9，人们患这种病的概率是0.01。如果某人的检测结果呈阳性，那么他患这种病的概率是多少？</p>
<p>直观上看：患病的人检测呈阳性的概率是0.9，这个人被检测为阳性，那么有很大概率这个人是患病的。不妨试着算算：</p>
<p>假设用A表示检测结果为阳性，B表示患病，那么可以很轻松的计算出： <span class="math display">\[
P(B|A)=\cfrac{P(A|B)P(B)}{P(A)}=\cfrac{P(A|B)P(B)}{P(A|B)P(B)+P(A|\bar B)P(\bar B)}=\cfrac{0.9*0.01}{0.9*0.01+0.1*0.99}=0.083 \\
P(\bar B|A)=1-P(B|A)=0.917
\]</span> 可以看到：即使检测结果呈阳性，患病的概率仍然只有8.3%，和我们的直观认识并不相同。</p>
<p>上面的计算其实就用了贝叶斯公式：后验概率<span class="math inline">\(P(B|A)\)</span>等于条件概率<span class="math inline">\(P(A|B)\)</span>（似然函数）乘以先验概率<span class="math inline">\(P(B)\)</span>，再除以一个常数因子。我们在已知先验概率的前提下，通过新的观测值<span class="math inline">\(P(A|B)\)</span>（检测结果是否阳性）来预测患病的概率。</p>
<p>关于常数因子<span class="math inline">\(P(A)\)</span>可以这样理解：分子<span class="math inline">\(P(A,B)\)</span>表示检测结果呈阳性并且患病的概率，那么还有一部分人<span class="math inline">\(P(A,\bar B)\)</span>检测结果呈阳性但是没有患病，<span class="math inline">\(P(A,B)+P(A,\bar B)=P(A)\)</span>，我们要求的<span class="math inline">\(P(B|A)\)</span>即检测呈阳性的人中患病的人所占的比例<span class="math inline">\(\cfrac{P(A,B)}{P(A)}\)</span>。</p>
<p>更加一般的贝叶斯公式：</p>
<p>如果参数<span class="math inline">\(\theta\)</span>的分布是离散的： <span class="math display">\[
\pi(\theta_i|x)=\cfrac{\pi(\theta_i)f(x|\theta_i)}{\sum_{i}\pi(\theta_i)f(x|\theta_i)}
\]</span> 如果参数<span class="math inline">\(\theta\)</span>的分布是连续的： <span class="math display">\[
\pi(\theta|x)=\cfrac{\pi(\theta)f(x|\theta)}{\int_{\Theta}\pi(\theta)f(x|\theta)d\theta}
\]</span> 后验概率密度表示在已知x的前提下关于参数<span class="math inline">\(\theta\)</span>的一个概率密度函数，即<span class="math inline">\(\theta\)</span>是一个分布，而不是一个固定的值，这是贝叶斯学派与传统学派最大的不同。</p>
<p>似然函数<span class="math inline">\(f(x|\theta)\)</span>可以这么理解：每个事件的背后都有一个分布，这个分布里是含有参数的，并且传统学派认为这个参数<span class="math inline">\(\theta\)</span>是固定的，我们做了大量的实验，用很多样本x就是为了求出这个参数的值，观测到的样本x是以参数<span class="math inline">\(\theta\)</span>为前提的一个分布。为了估计<span class="math inline">\(\theta\)</span>，我们用到了<strong>矩估计</strong>和<strong>极大似然估计</strong>，本质上都是一样的，我们在参数<span class="math inline">\(\theta\)</span>的前提下，从总体X中采样n个样本，用样本的性质来大致替代总体的参数<span class="math inline">\(\theta\)</span>。具体到极大似然：通过找到使似然函数<span class="math inline">\(\prod_{i=1}^{n}f(x_i|\theta)\)</span>最大的参数当作<span class="math inline">\(\theta\)</span>，其实就是选择一个<span class="math inline">\(\theta\)</span>使得样本出现的概率最大，本质上仍然是在拟合样本数据。</p>
<p>从上面的分析可以看出：我们的未知参数<span class="math inline">\(\theta\)</span>是从样本中计算得到的，必然和总体中原本的参数值存在误差，并且只能求得一个固定的参数值。贝叶斯理论认为：参数<span class="math inline">\(\theta\)</span>不应该是一个单独的值，更加合理的解释应该是参数<span class="math inline">\(\theta\)</span>有很多取值，并且每个取值都有相应的概率，即参数是服从某种分布的。概率最大的那个参数值即<strong>最大后验估计</strong>，参数取值的中位数即<strong>后验中位数估计</strong>，参数取值的均值即<strong>后验期望估计</strong>。为什么仍然叫估计呢？因为我们的后验分布是从似然计算得到的，我们无法采样所有的总体中的样本，所以也就无法计算出参数<span class="math inline">\(\theta\)</span>的精确分布。</p>
<p>最后来看看先验分布<span class="math inline">\(\pi(\theta)\)</span>，即在获得实验观测值之前对未知参数分布的一个主观认识，这也是贝叶斯学派一直被攻击的一点，客观的统计学中竟然引入了主观的因素！比如对于材质均匀的硬币，在抛掷之前，我们脑海中就会认为出现正反面的概率各是0.5。</p>
<p>但是很多时候先验分布是很难获得的，如果硬币材质不均匀，我们的先验又应当是什么分布呢？此时就引入了课程上讲的<strong>无信息先验</strong>，当我们对事件没有了解的时候，认为参数所有取值的概率都是相等的，在硬币实验中，我们认为<span class="math inline">\(\theta\)</span>是服从(0,1)的均匀分布。接着我们来做实验，看看后验分布会怎么变化（图源：Cameron Davidson-Pilon, Probabilistic Programming and Bayesian Methods for Hackers, 2016）：</p>
<figure>
<img src="https://img-blog.csdnimg.cn/img_convert/11e883581dd48f9c8442b8273371766d.png" alt="" /><figcaption>img</figcaption>
</figure>
<figure>
<img src="https://img-blog.csdnimg.cn/img_convert/3110af9ecffd601bb7acd89d86ad9784.png" alt="" /><figcaption>img</figcaption>
</figure>
<p>从图中可以看出：起初是均匀分布，连续抛掷了2次正面，此时认为该硬币正面向上的概率为1的可能性是最大的，但注意：正面向上的概率取0.6,0.4的可能也不是没有，不过这种可能性更小罢了。如果我们用极大似然去估计，就会得到该硬币正面向上的概率是1，正面向上的概率取0.6,0.4的可能为0，这显然与现实不符！接着抛了一次反面，正面向上的概率分布又进行了修正，不断通过观测值修正我们的后验，最终得到一个稳定的后验分布。</p>
<p>均匀分布<span class="math inline">\(U(a,b)\)</span>作为先验看起来很好用，但是他本质上还是有倾向性的，即认为在区间(a,b)内是有取值的，在区间外是没有取值的可能的，更加合理的无信息先验可以选取一个大方差的高斯分布。</p>
<p>选择高斯分布作为先验带来的一个问题是计算上的复杂性骤然提高，所以引入了<strong>共轭先验分布</strong>：即后验分布<span class="math inline">\(\pi(\theta|x)\)</span>与先验分布<span class="math inline">\(\pi(\theta)\)</span>是同一种类型的分布，就称先验分布<span class="math inline">\(\pi(\theta)\)</span>是<span class="math inline">\(f(x|\theta)\)</span>的共轭先验分布。这样我们在计算后验分布时，就无需计算复杂的积分，只要调整先验分布的参数即可确定后验分布。可以证明：<span class="math inline">\(\beta\)</span>分布是二项分布<span class="math inline">\(B(n,p)\)</span>中参数<span class="math inline">\(p\)</span>的共轭先验分布。即如果总体<span class="math inline">\(X|\theta\sim B(N,\theta)\)</span>，从中采样n个样本，样本分布即似然函数<span class="math inline">\(f(x|\theta)\)</span>服从<span class="math inline">\(\beta\)</span>分布，假设先验<span class="math inline">\(\theta\sim\beta(a,b)\)</span>，那么后验分布<span class="math inline">\(\theta|x\sim\beta(a+\sum x_i,b+nN-\sum x_i)\)</span>。</p>
<p>证明： 总体<span class="math inline">\(X|\theta\sim B(N,\theta)\)</span>，先验<span class="math inline">\(\theta\sim\beta(a,b)\)</span>，<span class="math inline">\(X=(X_1,...,X_n)^T\)</span>是来自总体的n个样本，则样本分布为： <span class="math display">\[
p(x|\theta)=L(\theta)=\prod_{i=1}^{n}\tbinom{N}{x_i}\theta^{x_i}(1-\theta)^{N-x_i}\propto\theta^{\sum_{i=1}^{n}x_i}(1-\theta)^{nN-\sum_{i=1}^{n}x_i}
\]</span> 可以看到：似然函数<span class="math inline">\(L(\theta)\)</span>具有<span class="math inline">\(\beta\)</span>分布的核，先验的核为<span class="math inline">\(\theta^{a-1}(1-\theta)^{b-1}\)</span>，所以后验为： <span class="math display">\[
\pi(\theta|x)\propto\theta^{a-1+\sum_{i=1}^{n}x_i}(1-\theta)^{b-1+nN-\sum_{i=1}^{n}x_i},0&lt;\theta&lt;1
\]</span> 显然后验分布的核与<span class="math inline">\(\beta\)</span>分布的核是同种类型，即<span class="math inline">\(\theta|x\sim\beta(a+\sum x_i,b+nN-\sum x_i)\)</span>，所以<span class="math inline">\(\beta\)</span>分布是二项分布<span class="math inline">\(B(n,p)\)</span>中参数<span class="math inline">\(p\)</span>的共轭先验分布。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2021/01/11/%E6%A6%82%E7%8E%87%E7%BB%9F%E8%AE%A1%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/11/%E6%A6%82%E7%8E%87%E7%BB%9F%E8%AE%A1%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">概率统计基础</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-11 01:24:00" itemprop="dateCreated datePublished" datetime="2021-01-11T01:24:00+08:00">2021-01-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>联合概率<span class="math inline">\(P(A,B)\)</span>即两个事件同时发生的概率 条件概率（后验概率）<span class="math inline">\(P(A|B)P(B)=P(B|A)P(A)\)</span> 全概率公式 <span class="math display">\[
P(A)=\sum_nP(A,B_n)=\sum_nP(A|B_n)P(B_n)
\]</span> 贝叶斯定理： <span class="math display">\[
P(A|B)=\frac{P(B|A)P(A)}{P(B)}
\]</span> <span class="math inline">\(A\)</span>的后验概率等于标准相似度乘以先验概率</p>
<p>离散型随机变量概率分布（分布律）： |<span class="math inline">\(X\)</span>| <span class="math inline">\(x_1\)</span>|...|<span class="math inline">\(x_i\)</span>|... |--|--|--|--|--| | <span class="math inline">\(P\)</span>| <span class="math inline">\(p_1\)</span>|...|<span class="math inline">\(p_i\)</span>|... 满足<span class="math inline">\(p_i\geq0, \sum_{i=1}^{\infty}p_i=1\)</span></p>
<p>0-1分布：<span class="math inline">\(X\sim B(1,p)\)</span> |<span class="math inline">\(X\)</span>| 0|1| |--|--|-- |<span class="math inline">\(P\)</span>|<span class="math inline">\(1-p\)</span>|<span class="math inline">\(p\)</span>| <span class="math display">\[
P(X=k)=p^k(1-p)^{1-k},k=0,1
\]</span></p>
<p>二项分布：<span class="math inline">\(X\sim B(n,p)\)</span> <span class="math inline">\(n\)</span>重伯努利试验 <span class="math display">\[
P(X=k)=C_n^kp^k(1-p)^{n-k},k=0,1,...,n
\]</span></p>
<p>Poisson分布：<span class="math inline">\(X\sim P(\lambda)\)</span> <span class="math display">\[
P(X=k)=\frac{\lambda^ke^{-\lambda}}{k!},k=0,1,...,n,\lambda&gt;0
\]</span> <span class="math inline">\(E(X)=\lambda,D(X)=\lambda\)</span> 可以证明：Poisson分布是二项分布在<span class="math inline">\(\lambda=np,n\to\infty\)</span>的极限分布。</p>
<p>连续型随机变量概率分布函数：<span class="math inline">\(F(x)=\int_{-\infty}^{x}f(t)dt\)</span>，<span class="math inline">\(f(x)\)</span>称为概率密度函数。 均匀分布：<span class="math inline">\(X\sim U(a,b)\)</span> <span class="math display">\[
f(x)=
\begin{cases}
\cfrac{1}{b-a}, &amp;x\in(a,b)\\
0, &amp;其它
\end{cases}
\]</span> 指数分布：<span class="math inline">\(X\sim E(\lambda)\)</span> <span class="math display">\[
f(x)=
\begin{cases}
\lambda e^{-\lambda x}, &amp;x&gt;0\\
0, &amp;x\leq0
\end{cases}
\]</span> 正态分布（高斯分布）：<span class="math inline">\(X\sim N(\mu,\sigma^2)\)</span> <span class="math display">\[
f(x)=\cfrac{1}{\sigma \sqrt{2\pi}}e^{-\cfrac{(x-\mu)^2}{2\sigma^2}}
\]</span> <span class="math inline">\(\mu\)</span>是位置参数，决定对称轴位置；<span class="math inline">\(\sigma\)</span>是尺度参数，决定分布的幅度。 标准正态分布<span class="math inline">\(X\sim N(0,1)\)</span></p>
<p>数学期望： 离散型：<span class="math inline">\(E(X)=\sum_ip_ix_i\)</span> 连续型：<span class="math inline">\(E(X)=\int_{-\infty}^{+\infty}xf(x)dx\)</span></p>
<p>方差：随机变量的离散程度，距离期望的距离 <span class="math inline">\(D(X)=E[(X-E(X))^2]=E(X^2)-E(X)^2\)</span> <span class="math display">\[D(X)=\cfrac{1}{N}\sum_{i=1}^{N}(x_i-\mu)^2=\cfrac{1}{N}(\sum_{i=1}^{N}x_i^2-N\mu^2)\]</span> 离散型：<span class="math display">\[D(X)=\sum_{i=1}^{\infty}[x_i-E(X)]^2p_i\]</span> 连续型：<span class="math display">\[D(X)=\int_{-\infty}^{+\infty}[x-E(X)]^2f(x)dx\]</span></p>
<p>标准差（均方差）是方差的算术平方根</p>
<p>样本标准差： <span class="math display">\[s=\sqrt{\cfrac{1}{n-1}\sum_{i=1}^{n}(x_i-\bar x)^2}\]</span> 对于二维随机变量，协方差用来描述<span class="math inline">\(X\)</span>与<span class="math inline">\(Y\)</span>之间的相互关系： <span class="math display">\[Cov(X,Y)=E\{[X-E(x)][Y-E(Y)]\}\]</span></p>
<p>相关系数： <span class="math display">\[
\rho_{XY}=\cfrac{Cov(X,Y)}{\sqrt{D(X)D(Y)}}
\]</span></p>
<p>de Movire-Laplace中心极限定理： <span class="math inline">\(n_A\)</span>为<span class="math inline">\(n\)</span>重伯努利试验中<span class="math inline">\(A\)</span>发生的次数，<span class="math inline">\(P(A)=p\)</span>，对任意实数<span class="math inline">\(x\)</span>，有： <span class="math display">\[
\lim\limits_{n\to+\infty}P(\cfrac{n_A-np}{\sqrt{np(1-p)}}\leq x)=\int_{-\infty}^{x}\cfrac{1}{\sqrt{2\pi}}e^{-\frac{t^2}{2}}dt=\Phi(x)
\]</span> <span class="math inline">\(n\)</span>充分大时，<span class="math inline">\(n_A\sim N(np,np(1-p))\)</span>，故： <span class="math display">\[
P(a&lt;n_a\leq \]</span>="" <span class="math inline">\(n\)</span>充分大时，<span class="math inline">\(\sum_{i=&quot;1}^{n}X_i\sim&quot; \cfrac{\sqrt{n}(\bar=&quot;&quot; \lim\limits_{n\to+\infty}p(|\cfrac{n_x}{n}-p|&lt;\epsilon)=&quot;1&quot; b)\approx\phi(\cfrac{b-n\mu}{\sqrt{n}\sigma})-\phi(\cfrac{a-n\mu}{\sqrt{n}\sigma})=&quot;&quot; b)\approx\phi(\cfrac{b-np}{\sqrt{np(1-p)}})-\phi(\cfrac{a-np}{\sqrt{np(1-p)}})=&quot;&quot; n(0,1)=&quot;&quot; n(0,1)\)</span>，即：="" n(0,1)<span class="math inline">\(，故：=&quot;&quot; n(n\mu,n\sigma^2)\)</span>，<span class="math inline">\(y_n\sim=&quot;&quot; p(a&lt;\sum_{i=&quot;1}^{n}X_i\leq&quot; x-\mu)}{\sigma}\sim=&quot;&quot; y_n=&quot;\cfrac{\sum_{i=1}^{n}X_i-n\mu}{\sqrt{n}\sigma}&quot; 中心极限定理表明：任意的一个概率分布中生成的随机变量，其序列和统一地归约到正态分布：\)</span>y_n="" 伯努利大数定律：事件<span class="math inline">\(x\)</span>在每次试验中发生概率是<span class="math inline">\(p\)</span>，<span class="math inline">\(n\)</span>次独立重复试验中，<span class="math inline">\(x\)</span>发生的次数为<span class="math inline">\(n_x\)</span>，则：="" 即事件的发生频率依概率收敛于事件的概率。="" 独立同分布中心极限定理：="" 辛钦大数定律：<span class="math inline">\(x_i\)</span>为独立同分布的随机变量序列，且期望<span class="math inline">\(\mu\)</span>存在，则对<span class="math inline">\(\forall\epsilon=&quot;&quot; 随机变量\)</span>x_1,x_2,...,x_n,...<span class="math inline">\(独立同分布，\)</span>e(x_i)=",D(X_i)=^2<span class="math inline">\(，前\)</span>n<span class="math inline">\(个变量和的标准化变量为：&quot;&gt;0\)</span>，有： <span class="math display">\[
\lim\limits_{n\to+\infty}P(|\cfrac{1}{n}\sum_{i=1}^{n}X_i-\mu|\geq\epsilon)=0
\]</span></p>
<p>正太分布熵的大小，取决于方差的大小。&lt;/n_a&gt;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2020/12/31/%E9%80%BC%E4%B9%8E%E6%91%98%E9%80%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/31/%E9%80%BC%E4%B9%8E%E6%91%98%E9%80%89/" class="post-title-link" itemprop="url">逼乎摘选</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-12-31 15:17:00" itemprop="dateCreated datePublished" datetime="2020-12-31T15:17:00+08:00">2020-12-31</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><font size="2"><em>早已决定退乎，将一些曾经的收藏稍加整理摘录于此，均已注明出处，侵删</em></font> ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/374401049/answer/1055275763">多任务下如何保持高效率</a> 第一件事情，是想一想什么事情是自己应该做的，什么是要推给别人的，什么是要找人讨论再做，什么需要等一阵子的。这个是战略问题，比任何战术上的技巧都管用。多任务完成得再快，做自己不应该做或者不需要做的事情，只会累死累活还没什么用。</p>
<p>随时想着如果不玩这局棋了，把棋盘掀翻重来会是什么结果？也许会有更好的解法。</p>
<p>在这之后，再讨论战术。以下是一些应付多任务的具体方案： 1. 每做一个任务要百分百集中（比如说现在在写这个答案的时候，就不要写一半刷手机了）。 2. 每个任务最好持续一段时间（我的经验是最少15分钟），切去一个需要一定脑力的任务，做5分钟再切回来基本上没有成功的例子。10分钟的任务除非在做之前有非常清楚的规划，不然要不什么事都没做成（比如说还在手忙地找浏览器里的相关标签页），要不因为专注而超时。 3. 每个任务有非常明确的完成指标。比如说某个任务是代码能跑起来，文章的introduction看完，或是审完一篇论文并且写出评审建议。不完成不要停手。如果实在得要暂停（比如说得去开会），记得把完成指标再分得更细一些。 4. 难的和简单的任务可以错开做。做完难的需要休息可以做些简单但不得不做的，做完简单的可以再切回难的（这样有挑战性）。如果发现自己并不需要休息就迫不及待地去做下一个任务了，说明任务安排得好。 5. 不要安排得太满，不要要求每天都一定要全部完成。总会有完不成的事项。我觉得我每天订的TODO list总有一两个没完成，然后就会发现，有些其实并不重要，有些其实挺重要但下意识逃避了，下次就要把它们拿出来第一个做完。 6. 经常锻炼，充足睡眠，合理膳食，才能保持充沛精力。偶尔熬夜也许确实活多，但天天熬夜，就说明战略上有大问题了，身体不是这么玩的。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/27032313/answer/315544084">应届生是选择一个公司，还是选择一个行业</a> 人生的幸福，我的感觉来自自律，独立思考能力，控制住自己的欲望，保持对新事物的敏感度和参与度。</p>
<p>比选择行业更重要的是一个人独立思考能力，自己纠错，自己拯救自己的能力。</p>
<p>我混到今天一直在自己做决策，从大学填写志愿，到跳槽，找工作，做生意，都从来不问别人，都是自己研究琢磨。我也有问人的时候，但是我从来不问人生该怎么选择，我只问具体的技术性问题。</p>
<p>保持对物欲的控制，管理好自己，培养良好的习惯，我们可以摆脱很多不必要的麻烦。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/24917544/answer/154775610">你生命中最艰难、痛苦的一段时间是如何度过的</a> 对于我来说，从来没有觉得有什么最艰难和痛苦的日子。人生本来就是一场旅行，能够和爱的人在一起度过，又何必在意旅途的风景是什么风格。也许，这场旅途对于我来说，只是可能比父母和孩子早下车几站而已。</p>
<p>当你用心拼尽全力过好每一天，会发现早死晚死都是一种平淡无奇的结果，艰难困苦只是自己给自己懦弱和懒惰的开脱词。祝尚有余生的各位安好。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/29956916/answer/311913864">活着不开心怎么办</a> 如何减少不开心？一是别瞎去比较，人确实都有损失厌恶，但你如果不主动去做一些无谓的比较，就能让自己舒服很多；另一个是别瞎揣摩别人，别因为不理解别人，而给自己制造不必要的不快。</p>
<p>说完这两点还没完，因为它俩都属于“别做什么”，还要再聊一点“要做什么”。</p>
<p>要自在如风，要在不违反法律、不伤风败俗的前提下去尽情享受生活，享受自由。</p>
<p>我以前觉得那些走在马路上唱着歌还唱得不好听的人特别蠢，可是人家一点都不蠢，他唱歌的样子就能证明他很快乐。</p>
<p>那些跳广场舞的大妈，人家是真的开心，在跳舞的过程中，她们是心情愉悦的，不然谁会每天都准点跑去跳啊。</p>
<p>咱们也得好好对待自己，别老那么在意别人的目光，人家路人其实压根就不在意你。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/278108330/answer/400776080">如何看待论调「所谓稳定不过是在浪费生命」</a> 纸醉金迷可能会有一时之爽，但午夜梦回，浮现在眼前的是孩提时代的无忧无虑，还是高档场所的推杯换盏，真不一定。</p>
<p>内心的平安才是真正的平安。</p>
<p>人活着，要常常问自己，到底想要什么。不要总跟别人比较，不要过于苛求自己。和自己相识，和自己和解。</p>
<p>盗用头文字D的一句台词，这世界上只有一种成功，就是能够用自己喜欢的方式度过一生，这才是成功最返璞归真的定义。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/33220674/answer/58248246">我们是怎样一步步地走向平庸的</a> 认为我这么一个大好人才，却被投闲置散，落至今时今日这样的田地。</p>
<p>也试过自怨自艾，认为自己不知不觉间变成了一个废人。</p>
<p>直到这个时候，我才知道，我之所以觉得亲朋好友们的夸赞大惊小怪，其实是因为在我心底，我一直以为自己本来就应该是个天之骄子。</p>
<p>一路以来走得太过顺畅，我以为自己并不高傲自大，其实这种高傲自大已经深入骨髓，我根本没有机会察觉。</p>
<p>及至看到周围那些，曾经和我一个水平，甚至不如我的人，踏踏实实地走每一步，一步一步地抛离我，我才慢慢意识到，我并不是什么天之骄子，我只是一个平平凡凡的人。</p>
<p>接受自己是一个庸人这个过程非常痛苦。我每天都在剧烈的内心煎熬中。</p>
<p>一时劝说自己，生来便是庸人，坦然接受便是。一时又斗志激昂，只要努力，我便能回到原来天之骄子的位置上。</p>
<p>食不能安，夜不能寐。精神的压力直接导致身体的衰弱，一度卧病在床。</p>
<p>每个人都理所当然地演绎着自己的每一日。</p>
<p>相比之下，我国内的朋友，最近一个个结婚生子，安居乐业。我的妹妹，看起来学历能力一切不如我，却兢兢业业安安稳稳地工作着，闲时与朋友吃吃烧烤喝喝啤酒，上瑜伽班，学画画，日子过得不亦乐乎。</p>
<p>你说这样是平庸吗？然而她却觉得幸福无比。我拿着两个名校的学位又一次进入了名企，努力了那么久，曾经我以为我也算一直在进步，最后也不过是朝九晚五地工作。</p>
<p>而此时此刻，我只想回到家人的身边，过那带着油烟味的乏味无奇的日子。</p>
<p>我想，大千世界，谁人不平庸谁人平庸，一切不过是心魔。努力上进也好，安稳度日也好，若是不幸福不快乐，又有何用。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/20004337/answer/18961389">大学毕业之后，同学之间慢慢拉开了差距，还有必要参加老同学聚会吗</a> 唯有真正的好朋友，你过得好，他们反倒会问候你，这样累不累，不累就好；你过得不好，他们也会真心体贴你：「没关系，加油，做你自己想做的事，兄弟帮不到你，但你不开心的时候，可以找兄弟出来喝喝酒、吃吃饭、唱唱歌，哥儿几个陪你。」</p>
<p>当朋友之间不用显示优越感时，就能好好聊天了。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/20657503/answer/28028792">如何让自己变得开心起来</a> 不要和他人比较。我在精神病院工作，我可以直截了当的告诉你：太多看上去成功和开心的人被自己内心的骚动活活折磨疯了。所以，只要专注自己就好。</p>
<p>参与社交。即使你是一个内向的人，也要强迫自己去进入社交环节，这会给你和人结识、建立联系的机会。这些联系会使你和你的人性连接在一起。</p>
<p>做有关健康的决策。运动和好的饮食会改变你的世界观，这是很神奇的。你脑中看起来很真实很迫切的消极想法会消失的。</p>
<p>做不一样的事情。不要再浪费时间试图找到“完美的爱好”了。学习一点新的，无论是纤维艺术还是品尝咖啡。找到一件你可以投入精力的东西，自己能够胜任，然后等待结果。</p>
<p>和转折点保持联系。当我们长大的时候我们就慢慢失去了那些转折点。试着在任何一个你觉得亲切的群体里更好的安置自己，无论那个群体是你的家庭，你的邻居，你的文明，或是你的种族。</p>
<p>少往前看，少往后看。试着更多关注现在的自己。开始建立回忆而不是活在回忆里。开始创造你的未来而不是期待更好的未来。如果你不这样做，你的生活就会成为一片雾，横跨你的整个人生。（在某个阶段做事时候，不要总想着下一阶段，专注于现在。）</p>
<p>创造。在旅行中书写，或者画点什么。写一首歌，即使你从未演奏它。当你走的时候，开始改变你遗留下来的纪念品。</p>
<p>放手。原谅那些伤害你的人。我很遗憾你受到了伤害。但是如果你不将那些伤痛留在过去，它就会像狼一样跟着你——当你做任何事情的时候，它永远扮演着一个危险的影子。</p>
<p>更多的为他人担心。很多时候是我们的自恋毁了我们。这听上去很反直觉，但是每天花些时间想想你生活中人们的需求。帮助他们实现一些需求会使你更加开心，这个你现在可能不会理解。</p>
<p>停止奔跑。其实没有一个地方是“在远处”的。你想旅行多远就多远，但是当你到达那里的时候，你将始终发现你在等待着自己。拔出你的剑。是时候回头和你心中的巨龙搏斗了。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/24047876/answer/37943380">关于高考，你印象最深的是什么</a> 高考前的人生轻薄如纸，越往后走，生活才越显出复杂与沉重的本来面目。</p>
<p>我希望各位能在高考中取得好成绩，但我更希望，当你们背负着越来越沉重的人生往前走时，依然不会失去感受幸福的能力。</p>
<p>从知道得病至今我一直坦然和平静，我总是想，人不能只允许自己遇到好事，不允许自己遇到坏事。当不顺或困境找到我时，我会反问自己：为什么不可以是我？于是就能平静地去面对。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/23606484/answer/25156325">这样的努力真的有意义吗</a> 强者懂得，不管喜欢与否，现有的事情要做得漂亮。才有资格在人生方向确定时，发现自己已经有充分的积累，实现他们的梦想。</p>
<p>不管你是什么level的，永远有无数的人跟你同一个level，而你只要不断努力，就能超过这些本来跟你同level的人。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/19627497/answer/15875565">你是如何变得不浮躁的</a> 浮躁是因为急于求成而产生的一种不安的心理。心中总是想着做更多的事情，更快的获得成功，更快的抵达自己的目标，使我们忘记了，我们是为什么去做一件事情。</p>
<p>做一件事的最重要的是求的心灵的安宁。当我们充满激情的想做完成一件作品时，我们的心不是安宁的。一直到作品呈现出，它应该有的形式，我们心灵才获得了安宁，才获得了喜悦。</p>
<p>然而当你想着赶快做完一件事的时候，就说明你不再关心此事，而是想着下一件事，你匆匆忙忙的应付了眼前的事，然后又赶紧开始下一件事，你的心没有得到过安宁。前面事情又做的不够好，你会更不安，更浮躁。戒浮躁就要做好当下的事，投入你的热忱，直到做好它，那时你的心才得到安宁。</p>
<p>高僧把扫地也当成他生活的一部分，他沉浸于扫地这个过程，直到把地扫干净，他获得了心灵的安宁，这种安宁对他来说比任何东西都重要。他过得是一种沉浸式的生活。而心浮气躁的人总是过着肤浅的生活。</p>
<p>放慢自己做事情的速度，投入自己的热忱。不要着急地去做一件事情，先端正自己的态度，寻找做此事的热忱。</p>
<p>冥想，静坐，都是不错的训练方法。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/34970791/answer/63071829">能否用一百字写清楚你最想要的生活</a> 冬。 大雪。 小火炉。 热巧克力。 温暖的沙发。 脚边打滚的猫。 阳台上赏雪的狗。 笼子里好动的仓鼠。 靠在我肩上瞌睡的你。 水瓶里开得正盛的鲜花。 爸妈刚打来一个电话。 你们有空回来喝茶。 我给你盖上被子。 没想吵醒你啦。 你揉了揉眼。 一起睡吧。 那好吧。 讨厌！ 哈。 ## <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/28639137/answer/374782107">如何做一个让人眼前一亮的 presentation</a> 当然，不同场合需要不同的风格，但是整体流程一定要像讲故事一样，大致有3步： 1. 一个看似平静的现状 不超过10%时间，用一个小故事开场引出问题，接着要改造，团队应运而生，我是xx团队的xxx，团队致力于xxx，最主要的feature是xxx 2. 遇到困难，甚至已经不行了 对比，幽默、数据展示、逻辑说明（乔布斯） 经典采访音频、震撼的图片 大图片+小文字 大数字+小文字 3. 凭借聪明才智翻转，最终战胜困难 勾画出一个美好的愿景</p>
<p>下来就是看一些经典的发布会，加强练习。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="EIMadrigal"
      src="/images/favicon.png">
  <p class="site-author-name" itemprop="name">EIMadrigal</p>
  <div class="site-description" itemprop="description">Hello World</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">169</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/EIMadrigal" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;EIMadrigal" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:andrew.renj@gmail.com" title="E-Mail → mailto:andrew.renj@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.cnblogs.com/EIMadrigal" title="cnblogs → https:&#x2F;&#x2F;www.cnblogs.com&#x2F;EIMadrigal" rel="noopener" target="_blank"><i class="fab fa-codiepie fa-fw"></i>cnblogs</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/EIMadrigal" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;EIMadrigal" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">EIMadrigal</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">Total views: <span id="busuanzi_value_site_pv"></span></span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">Total visitors: <span id="busuanzi_value_site_uv"></span></span>
    <span class="post-meta-divider">|</span>

<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);
    var countOffset = 20000;

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset);
            clearInterval(int);
        }  
    }
       	
});
</script> 

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


</body>
</html>
