<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"eimadrigal.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Hello World">
<meta property="og:type" content="website">
<meta property="og:title" content="EI Madrigal&#39;s Space">
<meta property="og:url" content="https://eimadrigal.github.io/page/16/index.html">
<meta property="og:site_name" content="EI Madrigal&#39;s Space">
<meta property="og:description" content="Hello World">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="EIMadrigal">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://eimadrigal.github.io/page/16/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>EI Madrigal's Space</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">EI Madrigal's Space</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/05/24/Random%20Number%20Generator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/24/Random%20Number%20Generator/" class="post-title-link" itemprop="url">Random Number Generator</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-24 14:07:00" itemprop="dateCreated datePublished" datetime="2018-05-24T14:07:00+08:00">2018-05-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>rand()</code>å‡½æ•°å¯ä»¥äº§ç”Ÿ[0,RAND_MAX]ä¹‹é—´çš„å‡åŒ€çš„<strong>ä¼ªéšæœºæ•°</strong>ï¼Œå®ƒå®šä¹‰åœ¨å¤´æ–‡ä»¶<code>stdlib.h</code>ä¸­ï¼Œå‡½æ•°åŸå‹ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rand</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>Cæ ‡å‡†åº“çš„å®ç°æ˜¯ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">int</span> next = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*rand: return pseudo-number integer on 0...32767*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rand</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    next = next*<span class="number">1103515245</span> + <span class="number">12345</span>;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span>)(next/<span class="number">65536</span>) % <span class="number">32768</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*srand: set seed for rand()*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">srand</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> seed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    next = seed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœæ²¡æœ‰åˆå§‹åŒ–â€œéšæœºæ•°ç§å­â€ï¼Œé‚£ä¹ˆé»˜è®¤åˆå§‹ç§å­æ˜¯1ï¼Œ1*1103515245+12345ï¼Œreturnå¾—åˆ°ç¬¬ä¸€ä¸ªä¼ªéšæœºæ•°ï¼Œæ¥ç€å°†è¿™ä¸ªç»“æœä½œä¸ºä¸‹æ¬¡çš„ç§å­ï¼Œå¸¦å…¥å¼å­å¾—åˆ°ç¬¬äºŒä¸ªä¼ªéšæœºæ•°... ä¹‹æ‰€ä»¥å®šä¹‰ä¸º<code>unsigned int</code>ï¼Œæ˜¯é˜²æ­¢æ•°å€¼æº¢å‡ºåä¸ä¼šå‡ºç°è´Ÿå€¼ã€‚ ç›´æ¥è°ƒç”¨<code>rand()</code>ï¼Œä¼šå¯¼è‡´äº§ç”Ÿçš„æ˜¯åŒä¸€å¥—éšæœºæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨<code>srand()</code>æ¥åˆå§‹åŒ–éšæœºæ•°ç§å­ã€‚ è¦æ³¨æ„çš„æ˜¯ï¼šä¸åŒç¼–è¯‘å™¨è®¡ç®—éšæœºæ•°çš„æ–¹æ³•ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥å³ä½¿ç»™<code>srand()</code>ä¼ é€’ç›¸åŒçš„å‚æ•°ï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿä¸åŒçš„éšæœºæ•°åºåˆ—ã€‚ ä¸¾ä¸ªæ —å­ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*äº§ç”Ÿ0-9çš„éšæœºæ•°*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    srand(time(<span class="literal">NULL</span>));  <span class="comment">//åˆå§‹åŒ–éšæœºæ•°ç§å­</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,rand()%<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åˆ©ç”¨<code>rand()%n</code>äº§ç”Ÿ[0,n)ä¹‹é—´çš„éšæœºæ•°ï¼Œé‚£ä¹ˆä¸€æ—¦<span class="math inline">\(n&gt;RAND\_MAX\)</span>ï¼Œè¿™ç§åšæ³•å°±ä¼šå¤±æ•ˆã€‚ å¦‚æœä½ å¯¹ç²¾åº¦çš„è¦æ±‚ä¸é«˜ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹åŠæ³•ï¼š å…ˆç”¨<code>rand()/RAND_MAX</code>ï¼Œå¾—åˆ°[0,1]ä¹‹é—´çš„éšæœºå®æ•°ï¼Œç„¶åæ‰©å¤§n-1å€ï¼Œå››èˆäº”å…¥ï¼Œå°±å¯å¾—åˆ°[0,n-1]ä¹‹é—´çš„éšæœºæ•°ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*äº§ç”Ÿ10ä¸ª[0,99999]ä¹‹é—´çš„éšæœºæ•°*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">100000</span>;</span><br><span class="line">    <span class="keyword">double</span> random_doub;</span><br><span class="line">    <span class="keyword">int</span> random_num;</span><br><span class="line"></span><br><span class="line">    srand(time(<span class="literal">NULL</span>));  <span class="comment">//åˆå§‹åŒ–éšæœºæ•°ç§å­</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        random_doub = (<span class="keyword">double</span>)rand() / RAND_MAX; <span class="comment">//ç”Ÿæˆ[0,1]ä¹‹é—´çš„éšæœºæ•°</span></span><br><span class="line">        random_num = (<span class="keyword">int</span>)((n - <span class="number">1</span>)*random_doub + <span class="number">0.5</span>); <span class="comment">//ç”Ÿæˆ[0,n-1]ä¹‹é—´çš„éšæœºæ•°</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,random_num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <img src="https://img2020.cnblogs.com/blog/1260581/202201/1260581-20220108194141397-884629663.png" alt="image" /> &lt;/time.h&gt;&lt;/stdlib.h&gt;&lt;/stdio.h&gt;&lt;/time.h&gt;&lt;/stdlib.h&gt;&lt;/stdio.h&gt;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/05/23/Function-time()/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/23/Function-time()/" class="post-title-link" itemprop="url">Function-time()</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-23 13:58:00" itemprop="dateCreated datePublished" datetime="2018-05-23T13:58:00+08:00">2018-05-23</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>time()</code>å‡½æ•°è¿”å›è‡ª1970å¹´1æœˆ1æ—¥0ç‚¹ä»¥æ¥ç»è¿‡çš„ç§’æ•°ï¼Œæ¯ç§’å˜åŒ–ä¸€æ¬¡? <code>time()</code>å‡½æ•°å®šä¹‰åœ¨å¤´æ–‡ä»¶<code>&lt;time.h&gt;</code>ä¸­ï¼ŒåŸå‹æ˜¯ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">time_t</span> <span class="title">time</span><span class="params">(<span class="keyword">time_t</span> *arg)</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœ<code>arg</code>ä¸æ˜¯ç©ºæŒ‡é’ˆï¼Œé‚£ä¹ˆå‡½æ•°è¿”å›<code>time_t</code>ç±»å‹çš„calendar timeï¼Œå¹¶ä¸”æŠŠç»“æœä¿å­˜åœ¨<code>arg</code>æŒ‡å‘çš„å¯¹è±¡ï¼› å¦‚æœ<code>arg == NULL</code>ï¼Œé‚£ä¹ˆå‡½æ•°åªæ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œå€¼ä¸èƒ½å­˜å‚¨åœ¨ç©ºæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ã€‚ ä¹‹å‰ä¸æ˜ç™½ä¸ºä»€ä¹ˆè¦è®¾è®¡ä¸€ä¸ªå‚æ•°<code>arg</code>ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªå€¼å°±å¥½äº†å•Šï¼Ÿ æœ‰å¤§ç¥è¯´ï¼Œè¿™æ˜¯å› ä¸ºï¼š &gt; å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œæ®è¯´<code>time_t</code>æ˜¯ä¸ª<code>struct</code>ï¼Œé‚£æ—¶å€™cè¯­è¨€ä¸æ”¯æŒå‡½æ•°è¿”å›<code>struct</code>ï¼Œæ‰€ä»¥åªèƒ½ç”¨æŒ‡é’ˆä¼ è¿›å»ã€‚</p>
<p>é‚£ä¹ˆ<code>time_t</code>åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ çœ‹çœ‹cppreference.comçš„å®šä¹‰ï¼š</p>
<blockquote>
<p>The encoding of calendar time in <code>time_t</code> is unspecified, but most systems conform to POSIX specification and return a value of integral type holding the number of seconds since the Epoch.Implementations in which <code>time_t</code> is a 32-bit signed interger(many historical implementations) fail in the year 2038.</p>
</blockquote>
<p>å°±æ˜¯è¯´ï¼šCæ ‡å‡†å§”å‘˜ä¼šå¹¶æ²¡æœ‰å®šä¹‰<code>time_t</code>çš„ç²¾åº¦ï¼Œä¹Ÿæ²¡æœ‰æŒ‡å®šæ ‡å‡†çš„Epochï¼Œæ‰€ä»¥è¿™å–å†³äºä½ çš„operating systemä»¥åŠä½ çš„compilerã€‚ å¦‚æœä½ çš„ç³»ç»Ÿæ”¯æŒ<strong>POSIXæ ‡å‡†</strong>(åŒ…æ‹¬å¾ˆå¤šç±»Unixç³»ç»Ÿã€Windowsç³»ç»Ÿ)ï¼Œé‚£ä¹ˆ<code>time_t</code>æ˜¯ä¸€ä¸ª<code>signed int 32</code>ï¼Œæœ€å¤§è¡¨ç¤ºèŒƒå›´æ˜¯2147483647ç§’ï¼Œæ ‡å‡†Epochæ˜¯1970å¹´1æœˆ1æ—¥0ç‚¹ï¼Œæ‰€ä»¥æœ€ç»ˆæ—¶é—´å°±æ˜¯2038å¹´1æœˆ19æ—¥ï¼Œè¿™å°±æ˜¯è‘—åçš„<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Year_2038_problem">2038å¹´é—®é¢˜</a>ã€‚</p>
<p>é‚£ä¹ˆè¿™ä¸ªå‡½æ•°çš„å®ç°ï¼ŒGNU C Libraryæ˜¯è¿™ä¹ˆå†™çš„ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stddef.h&gt;</span>                <span class="comment">/* For NULL.  */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys time.h=&quot;&quot;&gt;</span></span></span><br><span class="line"><span class="comment">/* Return the current time as a `time_t&#x27; and also put it in *T if T is</span></span><br><span class="line"><span class="comment">   not NULL.  Time is represented as seconds from Jan 1 00:00:00 1970.  */</span></span><br><span class="line"><span class="function"><span class="keyword">time_t</span></span></span><br><span class="line"><span class="function"><span class="title">time</span> <span class="params">(<span class="keyword">time_t</span> *t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">tv</span>;</span></span><br><span class="line">  <span class="keyword">time_t</span> result;</span><br><span class="line">  <span class="keyword">if</span> (__gettimeofday (&amp;tv, (struct timezone *) <span class="literal">NULL</span>))</span><br><span class="line">    result = (<span class="keyword">time_t</span>) <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    result = (<span class="keyword">time_t</span>) tv.tv_sec;</span><br><span class="line">  <span class="keyword">if</span> (t != <span class="literal">NULL</span>)</span><br><span class="line">    *t = result;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">libc_hidden_def (time)</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœè¿”å›<code>time_t</code>ç±»å‹çš„å€¼ï¼Œè¯´æ˜è°ƒç”¨æˆåŠŸï¼› å¦‚æœè¿”å›<code>(time_t)(-1)</code>ï¼Œè¯´æ˜æ— æ³•å–å¾—ç°åœ¨çš„æ—¶é—´ï¼Œè°ƒç”¨å¤±è´¥ã€‚ ä¸¾ä¸ªæ —å­ï¼Œè·å¾—å½“å‰æ—¶é—´ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">time_t</span> current = time(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">char</span>* <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*æŠŠæ—¥æœŸå’Œæ—¶é—´è½¬ä¸ºå­—ç¬¦ä¸²*/</span></span><br><span class="line">    <span class="built_in">string</span> = ctime(&amp;current);</span><br><span class="line">    <span class="keyword">if</span> (current == (<span class="keyword">time_t</span>)<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Fail to get the current time!\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;The current time is %s&quot;</span>, <span class="built_in">string</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(%d seconds since the Epoch)\n&quot;</span>,current);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿è¡Œç»“æœï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202201/1260581-20220108191119700-2067131670.png" alt="image" /> &lt;/stdlib.h&gt;&lt;/time.h&gt;&lt;/stdio.h&gt;</sys>&lt;/time.h&gt;&lt;/stddef.h&gt;&lt;/time.h&gt;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/05/22/FTP%20Protocol/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/22/FTP%20Protocol/" class="post-title-link" itemprop="url">FTP Protocol</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-22 03:56:00" itemprop="dateCreated datePublished" datetime="2018-05-22T03:56:00+08:00">2018-05-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>FTP(File Transfer Protocol)æ˜¯å› ç‰¹ç½‘ä¸Šçš„ä¸€ç§æ–‡ä»¶ä¼ é€åè®®ã€‚</p>
<h2 id="åŸºæœ¬åŸç†">åŸºæœ¬åŸç†</h2>
<p>FTPåè®®åŸºäºå®¢æˆ·/æœåŠ¡å™¨æ¨¡å¼ï¼Œå±äºåº”ç”¨å±‚ï¼Œä½¿ç”¨TCPå¯é çš„è¿è¾“æœåŠ¡ã€‚ FTPçš„æœåŠ¡å™¨è¿›ç¨‹ç”±<strong>1ä¸ªä¸»è¿›ç¨‹</strong>å’Œ<strong>è‹¥å¹²ä»è¿›ç¨‹</strong>ç»„æˆï¼šä¸»è¿›ç¨‹è´Ÿè´£æ¥å—æ–°è¯·æ±‚ï¼Œä»è¿›ç¨‹è´Ÿè´£å¤„ç†å•ä¸ªè¯·æ±‚ã€‚è¿™æ ·ï¼Œ1ä¸ªFTPæœåŠ¡å™¨å°±å¯ä»¥åŒæ—¶ä¸ºå¤šä¸ªå®¢æˆ·è¿›ç¨‹æœåŠ¡ã€‚</p>
<h2 id="å·¥ä½œè¿‡ç¨‹">å·¥ä½œè¿‡ç¨‹</h2>
<p>FTPå·¥ä½œåˆ†ä¸ºä¸»åŠ¨æ¨¡å¼å’Œè¢«åŠ¨æ¨¡å¼ã€‚ ä¸è®ºå“ªç§æ¨¡å¼ï¼Œé¦–å…ˆï¼Œå®¢æˆ·ä»ä¸€ä¸ªéšæœºçš„ç«¯å£N(1024-65535)å‘æœåŠ¡å™¨çš„å‘½ä»¤ç«¯å£21å‘èµ·è¯·æ±‚ï¼Œå»ºç«‹èµ·<strong>æ§åˆ¶è¿æ¥</strong>ã€‚ - ä¸»åŠ¨æ¨¡å¼ å®¢æˆ·éšæœºæ‰“å¼€æŸä¸ªç«¯å£(1024-65535)ï¼Œåœ¨è¿™ä¸ªç«¯å£ç­‰å¾…æœåŠ¡å™¨çš„æ•°æ®ï¼Œæ‰€ä»¥è¦é€šè¿‡æ§åˆ¶è¿æ¥å‘Šè¯‰æœåŠ¡å™¨è‡ªå·±ç”¨å“ªä¸ªç«¯å£ä¼ é€æ•°æ®ï¼Œæ¥ç€æœåŠ¡å™¨æ”¶åˆ°æ–‡ä»¶ä¼ é€å‘½ä»¤ä»¥åŠå®¢æˆ·ç«¯å£å·ï¼Œä»è‡ªå·±çš„æ•°æ®ç«¯å£20å‘å®¢æˆ·å‘èµ·æ•°æ®è¿æ¥ã€‚ FTPä¼ é€å®Œä¸€ä¸ªæ–‡ä»¶ï¼Œæ•°æ®è¿æ¥å°±ä¼šå…³é—­ï¼Œè€Œæ§åˆ¶è¿æ¥è´¯ç©¿æ•´ä¸ªä¼šè¯ã€‚</p>
<ul>
<li>è¢«åŠ¨æ¨¡å¼ å¦‚æœå®¢æˆ·è¢«é˜²ç«å¢™é™åˆ¶ï¼Œä¸èƒ½æ¥å—åˆ°æ¥çš„TCPè¿æ¥ï¼Œè¿™æ—¶å€™å°±éœ€è¦è¢«åŠ¨æ¨¡å¼æ¥ä¼ è¾“ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202201/1260581-20220108185312740-1401371750.png" alt="image" /> é¦–å…ˆï¼Œå®¢æˆ·é€šè¿‡æ§åˆ¶è¿æ¥å‘æœåŠ¡å™¨å‘é€å‘½ä»¤PASVï¼› æ¥ç€ï¼ŒæœåŠ¡å™¨å‘å®¢æˆ·å‘é€è‡ªå·±çš„IPåœ°å€å’Œè‡ªå·±æ‰“ç®—ç”¨æ¥ä¼ é€æ•°æ®çš„ç«¯å£å·ï¼› æœ€åï¼Œå®¢æˆ·é€šè¿‡åˆšæ‰æ¥æ”¶çš„IPåœ°å€å’ŒæœåŠ¡å™¨ç«¯å£å·ï¼Œç”¨è‡ªå·±ä»»æ„ä¸€ä¸ªç«¯å£(1024-65535)å‘æœåŠ¡å™¨å¼€çš„é‚£ä¸ªç«¯å£å»ºç«‹æ•°æ®è¿æ¥ã€‚ é€šä¿—ç‚¹ï¼Œå°±æ˜¯ï¼š ä¸»åŠ¨æ¨¡å¼ï¼šå»ºç«‹æ•°æ®é€šé“ï¼ŒæœåŠ¡å™¨ä¸»åŠ¨å»è¿æ¥å®¢æˆ·ï¼› <img src="https://img2020.cnblogs.com/blog/1260581/202201/1260581-20220108185349044-1665399483.png" alt="image" /> è¢«åŠ¨æ¨¡å¼ï¼šå»ºç«‹æ•°æ®é€šé“ï¼ŒæœåŠ¡å™¨è¢«åŠ¨åœ°è¢«å®¢æˆ·è¿æ¥ã€‚ <img src="https://img2020.cnblogs.com/blog/1260581/202201/1260581-20220108185409921-1806947979.png" alt="image" /></li>
</ul>
<p>å†é€šä¿—ç‚¹ï¼Œå°±æ˜¯ï¼š ä¸»åŠ¨æ¨¡å¼ï¼š å®¢æˆ·ï¼šæˆ‘å¼€äº†ä¸€ä¸ªç«¯å£ï¼Œä½ æ¥è¿æˆ‘å§ï¼› è¢«åŠ¨æ¨¡å¼ï¼š å®¢æˆ·ï¼šmmpï¼Œè¢«é˜²ç«å¢™æäº†ï¼Œæ”¶ä¸åˆ°ä½ å‘æ¥çš„æ•°æ®è¿æ¥äº†ï¼› æœåŠ¡å™¨ï¼šå“¦ï¼Œæ²¡äº‹ï¼Œæˆ‘å¼€äº†ä¸ªç«¯å£ï¼Œä½ è¿æˆ‘å°±å¥½äº†ã€‚</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="www.serv-u.com/kb/1138/Active-and-Passive-FTP-Transfers-Defined">Active and Passive FTP Transfers Defined</a> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/File_Transfer_Protocol">wiki</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/05/19/File%20Operations/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/19/File%20Operations/" class="post-title-link" itemprop="url">File Operations</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-19 14:13:00" itemprop="dateCreated datePublished" datetime="2018-05-19T14:13:00+08:00">2018-05-19</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>åœ¨åˆ·é¢˜æµ‹è¯•ç¨‹åºæ—¶ï¼Œä¸ºäº†é¿å…æ¯æ¬¡éƒ½æ‰‹å·¥è¾“å…¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¾“å…¥æ•°æ®ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼›ä¸ºäº†é¿å…è¾“å‡ºå¤ªé•¿ï¼Œæˆ‘ä»¬å°†è¾“å‡ºä¹Ÿå†™å…¥æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿ä¸æ ‡å‡†ç­”æ¡ˆæ–‡ä»¶è¿›è¡Œæ¯”è¾ƒã€‚ æ–‡ä»¶ä½¿ç”¨ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼šè¾“å…¥è¾“å‡ºé‡å®šå‘ã€fopenã€‚</p>
<ul>
<li>é‡å®šå‘ è¿™ç§æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œåªè¦åœ¨main()å‡½æ•°çš„å¼€å§‹åŠ ä¸Šï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">freopen(<span class="string">&quot;input.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,<span class="built_in">stdin</span>);</span><br><span class="line">freopen(<span class="string">&quot;output.txt&quot;</span>,<span class="string">&quot;w&quot;</span>,<span class="built_in">stdout</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>å°±å¯ä»¥å°†æ ‡å‡†I/O(é”®ç›˜è¾“å…¥ã€å±å¹•è¾“å‡º)è½¬ä¸ºè¯»å†™æ–‡ä»¶ã€‚ ä¸‡ä¸€æ¯”èµ›è¦æ±‚æ ‡å‡†I/Oï¼Œè€Œä½ è¿˜æƒ³ç”¨æ–‡ä»¶æ“ä½œæ¥æµ‹è¯•ä»£ç æ—¶ï¼Œæäº¤æ—¶åˆ‡è®°åˆ é™¤é‡å®šå‘è¯­å¥ã€‚ ä¸ºäº†é¿å…ä½ å¿˜è®°è¿™èŒ¬ï¼Œå¯ä»¥å¦‚ä¸‹å¤„ç†ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NATIVE</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> NATIVE</span></span><br><span class="line">    freopen(<span class="string">&quot;input.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,<span class="built_in">stdin</span>);</span><br><span class="line">    freopen(<span class="string">&quot;output.txt&quot;</span>,<span class="string">&quot;w&quot;</span>,<span class="built_in">stdout</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="comment">//your code here</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ ·å­ï¼Œæœ¬æœºæµ‹è¯•æ—¶å¯ä»¥ä½¿ç”¨é‡å®šå‘ï¼›å¦‚æœè¦æ±‚æ ‡å‡†I/Oï¼Œæäº¤æ—¶åªéœ€åˆ æ‰<code>#define NATIVE</code>å³å¯ã€‚</p>
<ul>
<li>fopen å¦‚æœæ¯”èµ›è¦æ±‚ä½¿ç”¨æ–‡ä»¶è¯»å†™ï¼Œä½†ç¦æ­¢é‡å®šå‘æ–¹å¼ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨fopenæ–¹å¼ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FILE *fin, *fout;</span><br><span class="line">    fin = fopen(<span class="string">&quot;input.txt&quot;</span>.<span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    fout = fopen(<span class="string">&quot;output.txt&quot;</span>,<span class="string">&quot;wb&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŠŠscanfæ”¹ä¸ºfscanf,æŠŠprintfæ”¹ä¸ºfprintf</span></span><br><span class="line">    <span class="built_in">fscanf</span>(fin,<span class="string">&quot;%d&quot;</span>,&amp;a);</span><br><span class="line">    <span class="built_in">fprintf</span>(fout,<span class="string">&quot;%d&quot;</span>,a);</span><br><span class="line">    <span class="comment">//your code here</span></span><br><span class="line"></span><br><span class="line">    fclose(fin);</span><br><span class="line">    fclose(fout);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>è¿™æ—¶å€™ï¼Œå¦‚æœè¦æ±‚æ ‡å‡†I/Oï¼Œåªéœ€è¦ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fin = <span class="built_in">stdin</span>;</span><br><span class="line">fout = <span class="built_in">stdout</span>;</span><br></pre></td></tr></table></figure></p>
<p>æœ€åï¼Œç®€å•è¯´ä¸‹<strong>æ–‡ä»¶æ¯”è¾ƒ</strong>(windowsä¸‹)ï¼š è¿›å…¥cmdï¼Œå¦‚æœä¸¤ä¸ªæ–‡ä»¶åœ¨åŒä¸€ç›®å½•ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fc</span> 1.txt 2.txt</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœä¸¤ä¸ªæ–‡ä»¶ä¸åœ¨åŒä¸€ç›®å½•ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fc</span> <span class="string">&quot;c:\1.txt&quot;</span> <span class="string">&quot;d:\2.txt&quot;</span></span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥ä½¿ç”¨<code>fc /?</code>æŸ¥çœ‹fcå‘½ä»¤çš„ä¸€äº›å‚æ•°ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202201/1260581-20220108184941074-1492015913.png" alt="image" /> &lt;/stdio.h&gt;&lt;/stdio.h&gt;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/05/18/Git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/18/Git/" class="post-title-link" itemprop="url">Git</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-18 16:14:00" itemprop="dateCreated datePublished" datetime="2018-05-18T16:14:00+08:00">2018-05-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Gitæ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ä¸€ç§ï¼Œç”¨æ¥ç»´æŠ¤å¤šäººåä½œé¡¹ç›®çš„å¼€å‘è¿›ç¨‹ã€‚</p>
<p>é¦–å…ˆæ¥çœ‹çœ‹å•äººå¼€å‘çš„éœ€æ±‚ï¼Œæœ€åŸå§‹çš„VCSå°±åœ¨ä½ æˆ‘èº«è¾¹ğŸ˜‚ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202112/1260581-20211229105452773-1749378952.png" alt="image" /></p>
<p>å‡å¦‚åœ¨æœ¬åœ°ä¿å­˜äº†å¤šä¸ªç‰ˆæœ¬ï¼Œ<code>HEAD</code>æ€»æ˜¯æŒ‡å‘æœ€æ–°çš„ç‰ˆæœ¬ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202112/1260581-20211229110354288-1305060165.png" alt="image" /></p>
<p>å¦‚æœVersion 3å‡ºç°äº†ä¸¥é‡çš„bugï¼Œå¯ä»¥å›é€€åˆ°Version 2ç»§ç»­æ“ä½œã€‚ä½†æ˜¯å¦‚æœVersion 3åŒ…å«äº†å¾ˆå¤šæˆ‘ä»¬å¸Œæœ›ä¿ç•™çš„changeï¼Œå°±éœ€è¦å°†å…¶ä¸Version 2æ¯”å¯¹ï¼Œè€Œåå°†è¿™äº›changesæ‹·è´åˆ°Version 2ï¼Œä¸€ä¸ªå¥½çš„VCSå°±éœ€è¦æ”¯æŒ<code>diff</code>æ“ä½œå¸®ç¨‹åºå‘˜ä»¬æ‰¾åˆ°ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œä¸ºäº†é˜²æ­¢æœ¬åœ°æœºå™¨æ•…éšœï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠæœ¬åœ°çš„æ‰€æœ‰ç‰ˆæœ¬éƒ½åœ¨äº‘ä¸Šå¤‡ä»½ï¼Œè¿™æ ·å³ä½¿ä½ çš„è®¾å¤‡åŸåœ°çˆ†ç‚¸ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒè¢«è€æ¿ç‚’é±¿é±¼ã€‚ <img src="https://img2020.cnblogs.com/blog/1260581/202112/1260581-20211229111609065-1819873752.png" alt="image" /> å¦å¤–ï¼Œä½ å¯ä»¥å€ŸåŠ©äº‘çš„ä¸­è½¬å®ç°å¤šåœ°å·¥ä½œã€‚å½“ç„¶å¶å°”ä¹Ÿä¼šå‡ºç°ä¸€äº›å°é—®é¢˜ï¼šå‡å¦‚ç°åœ¨äº‘ä¸Šå’Œæœ¬åœ°çš„ç¨³å®šç‰ˆæœ¬éƒ½æ˜¯Version 5ï¼Œä½ 996ä¸‹ç­åè¿˜æƒ³ä¸ºå…¬å¸åšè´¡çŒ®ï¼Œå°±åœ¨å®¶é‡Œå¼€å§‹å¯¹Version 5ä¸€é¡¿æ“ä½œå¾—åˆ°äº†Version 5Lå´å¿˜äº†ä¸Šä¼ ï¼Œç¬¬äºŒå¤©ä¸Šç­åœ¨å…¬å¸åˆæ˜¯å¯¹Version 5ä¸€é€šdifferentçš„æ“ä½œå¾—åˆ°äº†Version 5Då¹¶ä¸Šä¼ ï¼Œç¬¬äºŒå¤©ä¸‹ç­ä»äº‘ä¸Šç›´æ¥æ‹‰å–Version 5Dåˆ°æœ¬åœ°ï¼Œä»·å€¼å‡ ä¸ªäº¿çš„Version 5Lå°±å†ä¹Ÿæ‰¾ä¸åˆ°äº†...è¿™é‡Œå°±éœ€è¦<code>merge</code>æ“ä½œæ¥åˆå¹¶åˆ†æ”¯ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œç¨‹åºå‘˜ä»¬å¯ä»¥éšæ—¶éšåœ°å€ŸåŠ©äº‘ä¸Šçš„å¤‡ä»½è¿›è¡Œåä½œï¼Œå®Œæˆè¶…å¤§é¡¹ç›®çš„æ’•é€¼å·¥ä½œã€‚ ä¸ºäº†ä¿è¯å‡ºbugæœ‰äººèƒŒé”…ï¼Œè¿˜éœ€è¦è®°å½•who/when/whatï¼ŒVCSé‡Œå«åš<code>annotate/blame</code>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">git init  # å°†è¯¥ç›®å½•ç”¨Gitç®¡ç†</span><br><span class="line">git add haha.txt kaka.txt  # å°†haha.txtï¼Œkaka.txtæ·»åŠ åˆ°ä»“åº“</span><br><span class="line">git commit -m &quot;upload&quot;  # å°†æ–‡ä»¶æäº¤åˆ°ä»“åº“ï¼Œæœ¬æ¬¡æäº¤è¯´æ˜æ˜¯upload</span><br><span class="line">git remote add origin git@github.com:EIMadrigal/Leetcode.git  # å°†æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”</span><br><span class="line">git push -u origin main  # å°†æœ¬åœ°åº“çš„å†…å®¹ç¬¬ä¸€æ¬¡æ¨é€åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line">git push origin main  # ä»¥åçš„æ¨é€</span><br><span class="line">git rm -r --cached haha  # åˆ é™¤æ–‡ä»¶å¤¹haha</span><br><span class="line">git status  # æŸ¥çœ‹ä»“åº“çš„çŠ¶æ€</span><br><span class="line">git diff  # æŸ¥çœ‹å…·ä½“ä¿®æ”¹çš„å†…å®¹</span><br><span class="line">git log  # æŸ¥çœ‹æäº¤å†å²çºªå½•</span><br><span class="line">git show  # æäº¤è¯¦æƒ…</span><br><span class="line">git checkout -- [file]  # å›é€€</span><br><span class="line">git reset --hard HEAD^  # HEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼ŒHEAD^è¡¨ç¤ºä¸Šä¸€ä¸ªç‰ˆæœ¬</span><br><span class="line">git reflog  # æŸ¥çœ‹å‘½ä»¤çš„å†å²çºªå½•</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.v2ex.com/t/786515">Windowsæ€ä¹ˆè®¾ç½®cmd/git bashèµ°ä»£ç†</a></p>
<h2 id="refs">Refs</h2>
<p><a target="_blank" rel="noopener" href="https://missing.csail.mit.edu/2020/version-control/">Version Control (Git)</a> <a target="_blank" rel="noopener" href="https://web.mit.edu/6.031/www/fa21/classes/05-version-control">Reading 5: Version Control</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/05/18/Vim%20Introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/18/Vim%20Introduction/" class="post-title-link" itemprop="url">Vim Introduction</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-18 08:03:00" itemprop="dateCreated datePublished" datetime="2018-05-18T08:03:00+08:00">2018-05-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="é…ç½®">é…ç½®</h2>
<p>å®‰è£…åŸç”Ÿæ€çš„Vimä¹‹åï¼Œç•Œé¢æ˜¯è¿™æ ·çš„ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202111/1260581-20211114103208063-1995368165.png" alt="image" /> è¡Œå·ï¼Œæ²¡æœ‰ï¼›è‡ªåŠ¨ç¼©è¿›ï¼Œæ²¡æœ‰ï¼›æ‹¬å·åŒ¹é…ï¼Œæ²¡æœ‰.</p>
<p>ä¸ºäº†æˆ‘ä»¬ä½¿ç”¨çš„æ–¹ä¾¿ï¼Œè¿›è¡Œä¸€äº›åŸºæœ¬çš„é…ç½®ï¼š <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/vim/vimrc</span><br></pre></td></tr></table></figure> è¿›å…¥é…ç½®ç•Œé¢: <img src="https://img2020.cnblogs.com/blog/1260581/202111/1260581-20211114103509711-1162498509.png" alt="image" /></p>
<p>å¯ä»¥åˆ æ‰æ³¨é‡Šæˆ–æ·»åŠ æ–°çš„é…ç½®: <img src="https://img2020.cnblogs.com/blog/1260581/202007/1260581-20200703081231240-949289722.png" alt="image" /></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set number  # å·¦ä¾§æ˜¾ç¤ºè¡Œå·</span><br><span class="line">set ts=4  # Tabé”®é•¿åº¦4ä¸ªç©ºæ ¼</span><br><span class="line">set expandtab  # è¾“å…¥Tabè‡ªåŠ¨è½¬æ¢ä¸ºç©ºæ ¼</span><br><span class="line">set cursorline  # çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œ</span><br><span class="line">set autoindent  # è‡ªåŠ¨ç¼©è¿›</span><br><span class="line">set showmatch  # æ˜¾ç¤ºæ‹¬å·åŒ¹é…</span><br><span class="line">syntax on</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨">ä½¿ç”¨</h2>
<p>Vimæœ‰ä¸‰ç§æ¨¡å¼ï¼šè¾“å…¥æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼å’Œæœ«è¡Œå‘½ä»¤æ¨¡å¼ã€‚ è¾“å…¥æ¨¡å¼ç”¨æ¥è¾“å…¥æ–‡å­—ï¼Œå‘½ä»¤æ¨¡å¼ç”¨æ¥ä¸‹è¾¾ç¼–æ’æ–‡ä»¶çš„æ“ä½œæŒ‡ä»¤ï¼Œæœ«è¡Œå‘½ä»¤æ¨¡å¼ç”¨æ¥è¿›è¡Œæ–‡ä»¶å­˜æ¡£ã€ç¦»å¼€ç¼–è¾‘å™¨ç­‰æ“ä½œ: <img src="https://img2020.cnblogs.com/blog/1260581/202007/1260581-20200703081319488-2115051699.png" alt="image" /></p>
<ol type="1">
<li>è¿›å…¥åŠç¦»å¼€ æœ«è¡Œæ¨¡å¼ä¸‹ï¼š <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:w  # ä¿å­˜å½“å‰æ–‡ä»¶</span><br><span class="line">:x  # ä¿å­˜æ–‡ä»¶å¹¶é€€å‡º</span><br><span class="line">:q!  # æ”¾å¼ƒæ­¤æ¬¡ç¼–è¾‘å¹¶å¼ºåˆ¶é€€å‡º</span><br><span class="line">:wq a.txt  # ä¿å­˜é€€å‡º</span><br><span class="line">:syntax on  # ä¸€æ¬¡æ€§è¯­æ³•é«˜äº®</span><br><span class="line">:set number  # ä¸€æ¬¡æ€§æ˜¾ç¤ºè¡Œå·</span><br></pre></td></tr></table></figure></li>
<li>åŸºæœ¬ç¼–è¾‘ å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰vè¿›å…¥visualæ¨¡å¼ï¼š <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d  # é€‰ä¸­ç›®æ ‡æ–‡å­—æ®µï¼ŒæŒ‰d(delete)å‰ªåˆ‡</span><br><span class="line">y  # é€‰ä¸­ç›®æ ‡æ–‡å­—æ®µï¼ŒæŒ‰y(yank)å¤åˆ¶</span><br><span class="line">p  # ç§»åŠ¨å…‰æ ‡åˆ°ç›®æ ‡ä½ç½®ï¼ŒæŒ‰p(put)ç²˜è´´</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å‘½ä»¤æ¨¡å¼: hjklå’Œæ–¹å‘é”®ç±»ä¼¼,wå¯ä»¥æŒ‰è¯å‘åç§»åŠ¨,bæŒ‰è¯å‘å‰ç§»åŠ¨,ctrl+f/ctrl+bä¸pageup/downåŠŸèƒ½ä¸€æ · 88ggç›´æ¥è·³åˆ°ç¬¬88è¡Œ 10jå‘ä¸‹è·³10è¡Œ 10kå‘ä¸Šè·³10è¡Œ /Nodeé«˜äº®æ‰€æœ‰Nodeä»¥å æŒ‰nåè·³ æŒ‰shift+nå‰è·³ cc/dd/yy,æŒ‰uå–æ¶ˆæ“ä½œ c2cåˆ æ‰è¿ç»­2è¡Œ pç²˜è´´,æŒ‰uå–æ¶ˆæ“ä½œ</p>
<p>ç¼–è¾‘æ¨¡å¼: ctrl+nè‡ªåŠ¨è¡¥å…¨</p>
<p>æ’ä»¶: vim plug vim awesome</p>
<h2 id="ä¸­æ–‡è¾“å…¥">ä¸­æ–‡è¾“å…¥</h2>
<p>ç¡®ä¿é”®ç›˜è¾“å…¥ç³»ç»Ÿé€‰ä¸­fcitxï¼Œæœç‹—æ‹¼éŸ³è¾“å…¥æ³•åŸºäºfcitx(Free Chinese Input Toy for X)æ¡†æ¶ï¼Œæ‰€ä»¥è¦é€‰ä¸­fcitxï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202112/1260581-20211229103046336-1159122227.png" alt="image" /></p>
<p>ä¸‹è½½å¹¶å®‰è£…æœç‹—è¾“å…¥æ³•<a target="_blank" rel="noopener" href="https://pinyin.sogou.com/linux/?r=pinyin">å®‰è£…åŒ…</a>ï¼Œåˆ‡æ¢åˆ°å®‰è£…åŒ…æ‰€åœ¨çš„ç›®å½•ï¼Œæ”¹ä¸‹å®‰è£…åŒ…çš„åå­—ï¼Œä¸ç„¶å¤ªé•¿äº†ä¸æ–¹ä¾¿ï¼Œæˆ‘è¿™é‡Œæ”¹ä¸º<code>ha.deb</code>ï¼Œä¹‹åå®‰è£…ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i ha.deb</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œå¯èƒ½ä¼šæç¤ºä¾èµ–å…³ç³»ä¸æ»¡è¶³(æ²¡æç¤ºçš„è¯è·³è¿‡å³å¯)ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202112/1260581-20211229103335451-1935103123.png" alt="image" /></p>
<p>è¿™æ˜¯ç”±äºä½ çš„ç”µè„‘å¯èƒ½æ²¡æœ‰å®‰è£…æœ‰å…³fictxçš„å†…å®¹ï¼Œä¿®å¤ä¾èµ–å…³ç³»ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -f</span><br></pre></td></tr></table></figure></p>
<p>é¡ºåˆ©çš„è¯ï¼Œæ¡Œé¢å³ä¸Šè§’ä¼šå‡ºç°é”®ç›˜å›¾æ ‡ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202112/1260581-20211229103537949-1620971579.png" alt="image" /> å¯ä»¥çœ‹åˆ°æœç‹—è¾“å…¥æ³•å·²ç»å®‰è£…ã€‚</p>
<p>å¦‚æœçœ‹ä¸åˆ°æœç‹—çš„å›¾æ ‡(å°¤å…¶æ˜¯ç¬¬ä¸€æ¬¡å®‰è£…)ï¼Œé‡å¯ç³»ç»Ÿã€‚ å³é”®é”®ç›˜å›¾æ ‡ï¼Œé€‰æ‹©configure(æˆ–è€…æœfcitx configuration)ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202112/1260581-20211229103624730-632103575.png" alt="image" /></p>
<p>ä½ ç°åœ¨åº”è¯¥æ²¡æœ‰Sogou Pinyinè¿™ä¸€é¡¹ï¼Œç‚¹é‚£ä¸ª+å·ï¼š <img src="https://img2020.cnblogs.com/blog/1260581/202112/1260581-20211229103646985-2704756.png" alt="image" /></p>
<p>å–æ¶ˆOnly Show Current Languageå‰çš„å¯¹å·ï¼Œæœç´¢Sogou Pinyinï¼Œç‚¹å‡»OKã€‚ ç°åœ¨ï¼Œè¾“å…¥æ³•åº”è¯¥å·²ç»å®‰è£…å¥½äº†ã€‚å¯ä»¥å»æ¡Œé¢é‚£ä¸ªé”®ç›˜å›¾æ ‡çœ‹çœ‹äº†~</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/05/16/ISA%20Introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/16/ISA%20Introduction/" class="post-title-link" itemprop="url">ISA Introduction</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-16 14:11:00" itemprop="dateCreated datePublished" datetime="2018-05-16T14:11:00+08:00">2018-05-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä»‹ç»ä¸€ä¸‹X86ã€MIPSã€ARMä¸‰ç§æŒ‡ä»¤é›†ï¼š</p>
<h2 id="x86æŒ‡ä»¤é›†">X86æŒ‡ä»¤é›†</h2>
<p>X86æŒ‡ä»¤é›†æ˜¯å…¸å‹çš„CISC(Complex Instruction Set Computer)æŒ‡ä»¤é›†ã€‚ X86æŒ‡ä»¤é›†å¤–éƒ¨çœ‹èµ·æ¥æ˜¯CISCæŒ‡ä»¤é›†ï¼Œäº‹å®ä¸Šï¼Œå®ƒæ˜¯é‡‡ç”¨ç±»RISCå†…æ ¸ï¼Œå°†éƒ¨åˆ†å¤æ‚æŒ‡ä»¤é€šè¿‡micro-opæ¨¡å¼è¿›è¡Œç¿»è¯‘æˆç®€å•æŒ‡ä»¤ï¼Œå†å¤„ç†ã€‚ X86æŒ‡ä»¤é›†çš„å‡ ä¸ªç‰¹æ€§</p>
<ul>
<li>åå‘å…¼å®¹ Intelæ¯æ¨å‡ºä¸€ä»£æ–°å¤„ç†å™¨ï¼Œæ€»ä¼šå…¼å®¹ä»¥å‰å¤„ç†å™¨çš„featureã€‚è¿™æ˜¯ç”±äºé•¿æœŸç§¯ç´¯çš„ç”¨æˆ·ä¹ æƒ¯å’Œç”Ÿæ€ç¯å¢ƒä¸å®¹æ›´æ”¹ï¼Œå¦åˆ™æ²¡æ³•èµšé’±äº†~ åå‘å…¼å®¹å¯¼è‡´æŒ‡ä»¤é›†æ„ˆå‘åºå¤§ã€æ„ˆå‘å¤æ‚ï¼ŒåŒæ—¶åŠŸè€—ä¹Ÿä¼šæ¯”è¾ƒå¤§ï¼Œä¸è¿‡ç”±äºIntelè¶…é«˜çš„å·¥è‰ºæ°´å¹³ï¼Œè¿™éƒ½ä¸æ˜¯äº‹ã€‚</li>
<li>å˜é•¿æŒ‡ä»¤ X86æŒ‡ä»¤é›†é‡‡ç”¨å˜é•¿æŒ‡ä»¤(1-15Bytes)ï¼Œä¸€èˆ¬æ¯æ¡æŒ‡ä»¤ä¸º2-3Bytesã€‚è¿™æ ·å¯ä»¥æé«˜ç å­—çš„åˆ©ç”¨ç‡ï¼Œä½†ä¹Ÿä½¿å¾—è¯‘ç ä»¥åŠè¯»å–æŒ‡ä»¤æ—¶æ¯”è¾ƒå¤æ‚ï¼Œå› ä¸ºä¸çŸ¥é“ä¸€æ¡æŒ‡ä»¤åº”è¯¥è¯»å¤šé•¿ã€‚</li>
<li>å¤šç§å¯»å€æ–¹å¼ X86æŒ‡ä»¤é›†å¯ä»¥é‡‡ç”¨å¤šç§å¯»å€æ–¹å¼ï¼Œæ¯”å¦‚ç«‹å³å¯»å€ã€å¯„å­˜å™¨å¯»å€ã€å¯„å­˜å™¨ç›¸å¯¹å¯»å€â€¦â€¦</li>
<li>é€šç”¨å¯„å­˜å™¨ä¸ªæ•°æœ‰é™ X86-32çš„ç³»ç»Ÿæœ‰8ä¸ªé€šç”¨å¯„å­˜å™¨ï¼Œä¹‹åX86-64ç³»ç»Ÿæ‰©å±•åˆ°äº†16ä¸ªã€‚</li>
<li>æŒ‡ä»¤æ‰§è¡Œæ—¶ï¼Œæœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªæ“ä½œæ•°åœ¨å†…å­˜é‡Œï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°å¿…ä¸ºç«‹å³æ•°æˆ–è€…å¯„å­˜å™¨ã€‚</li>
<li>ç”±äºåå‘å…¼å®¹ä»¥åŠç±»RISCå†…æ ¸ï¼Œå¯¼è‡´åŠŸè€—å¢åŠ ï¼›åŒæ—¶ï¼Œæœ‰å¾ˆå¤šå¤æ‚çš„æŒ‡ä»¤åˆ©ç”¨ç‡å¾ˆä½ã€‚</li>
</ul>
<h2 id="mipsæŒ‡ä»¤é›†">MIPSæŒ‡ä»¤é›†</h2>
<p>MIPSæŒ‡ä»¤é›†æ˜¯å…¸å‹çš„RISC(Reduced Instruction Set Computer)æŒ‡ä»¤é›†ã€‚ ç²¾ç®€æŒ‡ä»¤é›†ç³»ç»Ÿçš„è®¾è®¡æ€æƒ³å°±æ˜¯ï¼šæŠŠå¤æ‚æŒ‡ä»¤é›†ä¸­ä¸€äº›ä¸å¸¸ç”¨çš„æŒ‡ä»¤è¸¢å‡ºæŒ‡ä»¤é›†ï¼Œè¿™äº›å¤æ‚æŒ‡ä»¤ç”±æ—¥ç›Šå¼ºå¤§çš„è½¯ä»¶æŠ€æœ¯(ç¼–è¯‘)å»å®ç°ï¼Œè¿™æ ·ä½¿å¾—æ¯ä¸ªæŒ‡ä»¤çš„æµæ°´çº¿åˆ†æ®µæ¯”è¾ƒå‡åŒ€ï¼Œå……åˆ†åˆ©ç”¨äº†å¤„ç†å™¨çš„æµæ°´çº¿ç»“æ„ï¼Œæé«˜äº†ä¸»é¢‘ã€‚ MIPSæŒ‡ä»¤é›†ä»¥32ä¸ªå¯„å­˜å™¨ä¸ºä¸­å¿ƒï¼Œåªèƒ½é€šè¿‡<strong>Load/Store</strong>æŒ‡ä»¤è®¿é—®å†…å­˜ï¼Œå…¶ä½™æ¶‰åŠè®¡ç®—çš„æŒ‡ä»¤éƒ½ä»å¯„å­˜å™¨å †ä¸­è¯»å–æ•°æ®ï¼Œå¹¶ä¸”å°†è®¡ç®—ç»“æœå†™å…¥å¯„å­˜å™¨å †ä¸­ã€‚ å¦å¤–ï¼ŒMIPSæŒ‡ä»¤çš„æ ¼å¼æ¯”è¾ƒè§„æ•´ï¼Œæ‰€æœ‰æŒ‡ä»¤é•¿åº¦ä¸€è‡´ï¼ŒæŒ‡ä»¤æ“ä½œç éƒ½åœ¨å›ºå®šçš„ä½ç½®ï¼›å¯»å€æ–¹å¼ã€å¯¹äºæ¯æ¡æŒ‡ä»¤çš„æ“ä½œéƒ½å¾ˆç®€å•ã€‚ é‚£ä¹ˆCISCä¸RISCçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šRISCåªèƒ½é€šè¿‡<strong>Load/Store</strong>æŒ‡ä»¤è®¿é—®å†…å­˜ï¼Œè€ŒCISCæŒ‡ä»¤é›†åˆ™æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚</p>
<h2 id="armæŒ‡ä»¤é›†">ARMæŒ‡ä»¤é›†</h2>
<p>ARMæŒ‡ä»¤é›†å±äºRISCæŒ‡ä»¤é›†ï¼Œæ¯æ¡æŒ‡ä»¤32ä½ã€‚ ARMä¹Ÿæœ‰16ä½çš„å‹ç¼©æŒ‡ä»¤é›†ï¼Œè¿™æ˜¯ä¸ºäº†é¿å…32ä½å‡ºç°çš„ç å­—æµªè´¹ï¼Œæé«˜è¿è¡Œé€Ÿåº¦æ¨å‡ºçš„ã€‚</p>
<ul>
<li>ARMæŒ‡ä»¤ç”±äºå±äºRISCæŒ‡ä»¤é›†ï¼Œä¸€èˆ¬å®Œæˆçš„æ“ä½œæ¯”è¾ƒç®€å•ã€‚ç¨‹åºå‘˜å¯ä»¥é€šè¿‡å¤šæ¡ç®€å•çš„æŒ‡ä»¤ç»„åˆå®ç°ä¸€ä¸ªå¤æ‚çš„æ“ä½œã€‚</li>
<li>åŒæ ·çš„ï¼ŒARMæŒ‡ä»¤é›†ä¹Ÿæ˜¯åªèƒ½é€šè¿‡<strong>Load/Store</strong>æŒ‡ä»¤è¯»å–å†…å­˜ä¸­çš„æ•°æ®åˆ°å¯„å­˜å™¨ï¼Œå…¶ä½™çš„æŒ‡ä»¤åªèƒ½å¯¹å¯„å­˜å™¨çš„æ“ä½œæ•°è¿›è¡Œå¤„ç†ã€‚</li>
<li>å¤§å¤šæ•°æŒ‡ä»¤é•¿åº¦ç›¸åŒï¼Œå­—æ®µä½ç½®(å°¤å…¶æ˜¯æ“ä½œç çš„ä½ç½®)å›ºå®šï¼Œä¸”å…·æœ‰â€œæ¡ä»¶æ‰§è¡Œâ€æ¨¡å¼ã€‚</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/05/06/Fourier%20Transform/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/06/Fourier%20Transform/" class="post-title-link" itemprop="url">Fourier Transform</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-06 14:15:00" itemprop="dateCreated datePublished" datetime="2018-05-06T14:15:00+08:00">2018-05-06</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä¸ºäº†åœ¨ç»Ÿä¸€æ¡†æ¶é‡Œåˆ†æå‘¨æœŸä¿¡å·ä¸éå‘¨æœŸä¿¡å·ï¼Œå¯ä»¥ç»™å‘¨æœŸä¿¡å·ä¹Ÿå»ºç«‹å‚…é‡Œå¶å˜æ¢ã€‚ æœ‰ä¸¤ç§æ–¹æ³•æ±‚å‘¨æœŸä¿¡å·çš„å‚…é‡Œå¶å˜æ¢ï¼š</p>
<ol type="1">
<li><p>åˆ©ç”¨å‚…é‡Œå¶çº§æ•°è¿›è¡Œæ„é€  å¯¹äºå‘¨æœŸä¿¡å·<em><span class="math inline">\(x(t)\)</span></em>ï¼Œå…¶å‚…é‡Œå¶çº§æ•°å±•å¼€å¼ä¸ºï¼š <span class="math display">\[x(t) = \sum_{k = -\infty}^{+\infty}a_ke^{jkw_0t}\]</span> ç³»æ•°<span class="math inline">\(a_k\)</span>è¡¨ç¤ºä¸ºï¼š <img src="https://img-blog.csdn.net/20180510103617263?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VJTWFkcmlnYWw=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /> ç”±äº <img src="https://img-blog.csdn.net/20180510104202240?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VJTWFkcmlnYWw=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /> è¯´æ˜å‘¨æœŸæ€§å¤æŒ‡æ•°ä¿¡å·çš„é¢‘è°±æ˜¯ä¸€ä¸ªå†²æ¿€ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¨å¹¿è¿™ä¸ªå…³ç³»ï¼Œå¯å¾—ï¼š <img src="https://img-blog.csdn.net/20180510104448987?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VJTWFkcmlnYWw=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /> è¡¨æ˜ï¼šå‘¨æœŸä¿¡å·çš„å‚…é‡Œå¶å˜æ¢ç”±ä¸€ç³»åˆ—ç­‰é—´éš”çš„å†²æ¿€å‡½æ•°çº¿æ€§ç»„åˆè€Œæˆï¼Œæ¯ä¸ªå†²æ¿€åˆ†åˆ«ä½äºä¿¡å·å„æ¬¡è°æ³¢çš„é¢‘ç‡å¤„ï¼Œå…¶å¼ºåº¦æ˜¯å‚…é‡Œå¶çº§æ•°ç³»æ•°çš„<span class="math inline">\(2\pi\)</span>å€ã€‚</p></li>
<li><p>å‘¨æœŸå»¶æ‹“ è¿™ç§æ–¹æ³•å…ˆå°†<span class="math inline">\(x(t)\)</span>åœ¨ä¸€ä¸ªå‘¨æœŸå†…æˆªæ–­ï¼Œå¾—ä¿¡å·<span class="math inline">\(x_T(t)\)</span>ï¼Œæ±‚å‡º<span class="math inline">\(x_T(t)\)</span>çš„å‚…é‡Œå¶å˜æ¢<span class="math inline">\(X_T(w)\)</span>ï¼Œå†å¯¹<span class="math inline">\(X_T(w)\)</span>å‘¨æœŸå»¶æ‹“å¾—<span class="math inline">\(X(w)\)</span>ã€‚ å…·ä½“æ¥è¯´ï¼š æ ¹æ®<span class="math inline">\(\delta\)</span>å‡½æ•°æ€§è´¨ï¼Œæœ‰ï¼š <span class="math display">\[x(t) = x_T(t)*\sum_{k = -\infty}^{+\infty}\delta(t - kT)\]</span> è®¾å‘¨æœŸå†²æ¿€ä¸²<span class="math inline">\(\sum_{k = -\infty}^{+\infty}\delta(t - kT)\)</span>çš„å‚…é‡Œå¶å˜æ¢ä¸º<span class="math inline">\(F(w)\)</span>ï¼Œ ç”±æ—¶åŸŸå·ç§¯å®šç†ï¼š <span class="math display">\[X(w) = X_T(w)F(w)\]</span> åˆæ—¶åŸŸå‘¨æœŸä¸ºTçš„å‘¨æœŸå†²æ¿€ä¸²çš„å‚…é‡Œå¶å˜æ¢åœ¨é¢‘åŸŸæ˜¯ä¸€ä¸ªå‘¨æœŸä¸º<span class="math inline">\(\frac{2\pi}{T}\)</span>çš„å‘¨æœŸå†²æ¿€ä¸²ï¼Œå³ï¼š <span class="math display">\[F(w) = \frac{2\pi}{T}\sum_{k = -\infty}^{+\infty}\delta(w - \frac{2\pi k}{T})\]</span> æ•…å¯å¾—ï¼š <span class="math display">\[X(w) = \frac{2\pi}{T}X_T(w)\sum_{k = -\infty}^{+\infty}\delta(w - \frac{2\pi k}{T})\]</span> ä¹Ÿå°±æ˜¯ï¼š <span class="math display">\[X(w) = w_0\sum_{k = -\infty}^{+\infty}X_T(kw_0)\delta(w - kw_0)\]</span> æˆ‘ä»¬å¯¹æ¯”ä¸¤ç§æ–¹æ³•å¾—åˆ°çš„ç»“æœï¼Œå¯çŸ¥ï¼š å‘¨æœŸä¿¡å·å‚…é‡Œå¶çº§æ•°çš„ç³»æ•°<span class="math inline">\(a_k = \frac{1}{T}X_T(kw_0)\)</span></p></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/04/28/ProcessThread%20Synchronization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/28/ProcessThread%20Synchronization/" class="post-title-link" itemprop="url">ProcessThread Synchronization</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-28 13:30:00" itemprop="dateCreated datePublished" datetime="2018-04-28T13:30:00+08:00">2018-04-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="è¿›ç¨‹åŒæ­¥">è¿›ç¨‹åŒæ­¥</h2>
<p>è¿›ç¨‹é—´åŒæ­¥å’Œè¿›ç¨‹é—´é€šä¿¡æ²¡å¿…è¦åŒºåˆ†è¿‡äºæ¸…æ¥šï¼Œä¸€èˆ¬èƒ½é€šä¿¡çš„æœºåˆ¶ä¹Ÿèƒ½ç”¨äºåŒæ­¥ã€‚è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰æœ‰ä»¥ä¸‹å‡ ç§ï¼š - ä¿¡å·é‡ï¼ˆsemaphoresï¼‰ï¼šä½çº§é€šä¿¡æ–¹å¼ï¼Œåˆ†ä¸ºæ•´å‹å’Œè®°å½•å‹ï¼› - å…±äº«å†…å­˜ï¼ˆshared memoryï¼‰ï¼šé«˜çº§æ–¹å¼ï¼› - æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆmessage passingï¼‰ï¼šé«˜çº§æ–¹å¼ï¼› - ç®¡é“é€šä¿¡ï¼ˆpipeï¼‰ï¼šé«˜çº§æ–¹å¼ã€‚ - å¥—æ¥å­—ï¼ˆsocketï¼‰ï¼šç½‘ç»œä¸Šä¸åŒè¿›ç¨‹é€šä¿¡ - ä¿¡å·ï¼ˆsignalï¼‰ï¼š</p>
<p>è¿›ç¨‹é—´åŒæ­¥æ–¹å¼æœ‰ï¼š - ä¿¡å·é‡ï¼ˆsemaphoresï¼‰ï¼š - ç®¡ç¨‹ï¼ˆmonitorsï¼‰ï¼š</p>
<p>ç”±äºè¿›ç¨‹ä¹‹é—´ä¸€èˆ¬æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥è¿›ç¨‹åŒæ­¥æœºåˆ¶å¤§å¤šä¸éœ€è¦é”ã€‚</p>
<h2 id="çº¿ç¨‹åŒæ­¥">çº¿ç¨‹åŒæ­¥</h2>
<p>çº¿ç¨‹åŒæ­¥æœºåˆ¶æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>äº’æ–¥é”ï¼ˆmutexï¼‰ï¼šæ’ä»–æ€§è®¿é—®å…±äº«æ•°æ®ï¼Œç”¨æ¥ä¿æŠ¤ä¸´ç•ŒåŒºã€‚æŸä¸ªçº¿ç¨‹åŠ é”åï¼Œå…¶å®ƒè¦åŠ é”çš„çº¿ç¨‹å°†è¢«é˜»å¡ï¼Œç”³è¯·å¤±è´¥è¿›å…¥ä¼‘çœ ï¼Œç›´åˆ°é”è¢«é‡Šæ”¾ã€‚</li>
<li>è¯»å†™é”ï¼ˆReadWriteLockï¼‰ï¼šç”¨äºè¯»è€…-å†™è€…é—®é¢˜ï¼Œå…±æœ‰ä¸‰ç§çŠ¶æ€ï¼šä¸åŠ é”ã€è¯»æ¨¡å¼åŠ é”ã€å†™æ¨¡å¼åŠ é”ã€‚æ¯æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥å ç”¨å†™æ¨¡å¼çš„é”ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹å æœ‰è¯»æ¨¡å¼é”ã€‚</li>
<li>è‡ªæ—‹é”ï¼ˆspinlockï¼‰ï¼šä¸“ä¸ºå¤šå¤„ç†å™¨å¹¶å‘å¼•å…¥ï¼Œä¸æ–­å¾ªç¯æµ‹è¯•é”çš„çŠ¶æ€ï¼Œç”³è¯·çº¿ç¨‹ä¸ä¼šä¼‘çœ ï¼Œå¿™ç­‰é”ã€‚</li>
<li>æ¡ä»¶å˜é‡ï¼ˆcondition variablesï¼‰</li>
<li>ä¿¡å·é‡ï¼ˆsemaphoresï¼‰ï¼šæœ‰æ›´å¤šå–å€¼ç©ºé—´ï¼Œå®ç°æ›´å¤æ‚çš„åŒæ­¥ã€‚</li>
</ul>
<p>ä¿¡å·é‡å’ŒPVåŸè¯­çš„ä½¿ç”¨å¯å½’çº³ä¸ºä¸‰ç§æƒ…å½¢ï¼š 1. æŠŠä¿¡å·é‡è§†ä¸º<strong>åŠ é”æ ‡å¿—ä½</strong>ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†å®ç°å¯¹æŸä¸ª<strong>å”¯ä¸€çš„å…±äº«æ•°æ®</strong>çš„<strong>äº’æ–¥è®¿é—®</strong>ï¼Œå¦‚å„ä¸ªè¿›ç¨‹é—´çš„æŸå…±äº«å˜é‡ï¼Œæ•°æ®åº“ä¸­çš„æŸä¸ªè®°å½•ã€‚ å…±äº«æ•°æ®çš„å€¼ä¸ä¿¡å·é‡æœ¬èº«çš„å€¼æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä¿¡å·é‡çš„ä½œç”¨ä»…ä»…æ˜¯ä½œä¸ºåŠ é”æ ‡å¿—ä½ã€‚å…¶ç‰¹å¾æ˜¯<strong>ä¿¡å·é‡åˆå§‹å€¼ä¸º1</strong>ï¼Œç„¶ååœ¨ä¸€ä¸ªè¿›ç¨‹å†…éƒ¨å¯¹å®ƒè¿›è¡Œé…å¯¹çš„PVæ“ä½œã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">P(mutex);  <span class="comment">// mutexçš„åˆå§‹å€¼ä¸º1</span></span><br><span class="line">è®¿é—®è¯¥å…±äº«æ•°æ®;</span><br><span class="line">V(mutex);</span><br><span class="line">éä¸´ç•ŒåŒº</span><br></pre></td></tr></table></figure></p>
<ol start="2" type="1">
<li><p>æŠŠä¿¡å·é‡è§†ä¸ºæŸç§ç±»å‹çš„<strong>å…±äº«èµ„æºçš„å‰©ä½™ä¸ªæ•°</strong>ï¼Œç›®çš„æ˜¯å®ç°å¯¹è¿™ç§ç±»å‹çš„å…±äº«èµ„æºçš„è®¿é—®ï¼Œå¦‚å„ç§I/Oè®¾å¤‡ã€‚ ä¿¡å·é‡çš„å–å€¼å…·æœ‰å®é™…æ„ä¹‰ï¼Œå³ä¸º<strong>ç©ºé—²èµ„æºçš„ä¸ªæ•°</strong>ã€‚å¤šä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶ä½¿ç”¨è¿™ç§ç±»å‹çš„èµ„æºï¼Œç›´åˆ°æ‰€æœ‰ç©ºé—²èµ„æºå‡å·²ç”¨å®Œã€‚ å…¶ç‰¹å¾æ˜¯ä¿¡å·é‡çš„<strong>åˆå§‹å€¼ä¸º<span class="math inline">\(N\geq 1\)</span></strong>ï¼Œç„¶å<strong>åœ¨ä¸€ä¸ªè¿›ç¨‹å†…éƒ¨å¯¹å®ƒè¿›è¡Œé…å¯¹çš„PVæ“ä½œ</strong>ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">P(resource);  <span class="comment">// resourceçš„åˆå§‹å€¼ä¸ºN</span></span><br><span class="line">ä½¿ç”¨è¯¥èµ„æº;</span><br><span class="line">V(resource);</span><br><span class="line">éä¸´ç•ŒåŒº</span><br></pre></td></tr></table></figure></p></li>
<li><p>æŠŠä¿¡å·é‡ä½œä¸º<strong>è¿›ç¨‹é—´åŒæ­¥</strong>çš„å·¥å…·ï¼Œåˆ©ç”¨å®ƒæ¥è®¾å®š<strong>ä¸¤ä¸ªè¿›ç¨‹åœ¨è¿è¡Œæ—¶çš„å…ˆåé¡ºåº</strong>ã€‚æ¯”å¦‚ï¼Œå®ƒå¯ä»¥æ˜¯æŸä¸ªå…±äº«èµ„æºçš„å½“å‰ä¸ªæ•°ï¼Œä½†æ˜¯ç”±ä¸€ä¸ªè¿›ç¨‹è´Ÿè´£ç”Ÿæˆè¯¥èµ„æºï¼Œè€Œå¦ä¸€ä¸ªè¿›ç¨‹è´Ÿè´£æ¶ˆè´¹è¯¥èµ„æºï¼Œç”±æ­¤å¼•å‘äº†ä¸¤ä¸ªè¿›ç¨‹é—´çš„å…ˆåé¡ºåºã€‚ å…¶ç‰¹å¾æ˜¯ä¿¡å·é‡çš„<strong>åˆå§‹å€¼ä¸º<span class="math inline">\(N\geq 0\)</span></strong>ï¼Œç„¶å<strong>åœ¨ä¸€ä¸ªè¿›ç¨‹é‡Œå¯¹å…¶ä½¿ç”¨VåŸè¯­ï¼Œå¢åŠ èµ„æºä¸ªæ•°ï¼Œè€Œåœ¨å¦ä¸€ä¸ªè¿›ç¨‹é‡Œå¯¹å…¶ä½¿ç”¨PåŸè¯­ï¼Œå‡å°‘èµ„æºä¸ªæ•°ï¼Œ</strong>ä»è€Œå®ç°ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„åŒæ­¥å…³ç³»ã€‚ <img src="https://img2020.cnblogs.com/blog/1260581/202201/1260581-20220108183225108-1461792452.png" alt="image" /></p></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://eimadrigal.github.io/2018/04/20/Process%20Synchronization-Example%202/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="EIMadrigal">
      <meta itemprop="description" content="Hello World">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EI Madrigal's Space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/20/Process%20Synchronization-Example%202/" class="post-title-link" itemprop="url">Process Synchronization-Example 2</a>
        </h2>

        <div class="post-meta">

		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-20 12:59:00" itemprop="dateCreated datePublished" datetime="2018-04-20T12:59:00+08:00">2018-04-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h2>
<p>ç†å‘åº—æœ‰ä¸€ä½ç†å‘å¸ˆï¼Œä¸€æŠŠç†å‘æ¤…å’ŒNæŠŠä¾›ç­‰å€™çš„é¡¾å®¢åçš„æ¤…å­ã€‚ å¦‚æœæ²¡æœ‰é¡¾å®¢ï¼Œç†å‘å¸ˆåœ¨ç†å‘æ¤…ä¸Šç¡è§‰ï¼› å½“æœ‰ä¸€ä¸ªé¡¾å®¢åˆ°æ¥æ—¶ï¼Œä»–å¿…é¡»å…ˆå”¤é†’ç†å‘å¸ˆï¼› å¦‚æœé¡¾å®¢æ¥æ—¶ç†å‘å¸ˆæ­£åœ¨ç†å‘ï¼Œå¦‚æœæœ‰ç©ºæ¤…å­ï¼Œåä¸‹ç­‰å¾…ï¼Œå¦åˆ™ç¦»å¼€ã€‚ ç”¨PVæ“ä½œè§£å†³ä¸Šè¿°é—®é¢˜ä¸­çš„åŒæ­¥å’Œäº’æ–¥å…³ç³»ã€‚</p>
<h2 id="åˆ†æ">åˆ†æ</h2>
<p>å°†é¡¾å®¢çœ‹ä½œNä¸ªç”Ÿäº§è€…ï¼Œç†å‘å¸ˆæ˜¯1ä¸ªæ¶ˆè´¹è€…ã€‚ ç†å‘å¸ˆå’Œæ¤…å­æ˜¯ä¸´ç•Œèµ„æºï¼Œæ•…é¡¾å®¢é—´æ˜¯äº’æ–¥å…³ç³»ï¼› ç†å‘å¸ˆå’Œé¡¾å®¢æ˜¯åŒæ­¥å…³ç³»ã€‚</p>
<p>ä¿¡å·é‡è®¾ç½®ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Semaphore barberReady = <span class="number">0</span>  äº’æ–¥é‡ï¼Œåªèƒ½å–<span class="number">0</span>æˆ–<span class="number">1</span>  </span><br><span class="line">Semaphore accessSeat = <span class="number">1</span>  äº’æ–¥é‡ï¼Œå¦‚æœä¸º<span class="number">1</span>ï¼Œè¡¨æ˜æ¤…å­æ•°å¯ä»¥å¢åŠ æˆ–å‡å°‘ï¼Œç›¸å½“äºç»™æ¤…å­åŠ é”ï¼Œé¿å…ä¸¤ä¸ªé¡¾å®¢åŒæ—¶åä¸€æŠŠæ¤…å­</span><br><span class="line">Semaphore num_wait = <span class="number">0</span>   ååœ¨æ¤…å­ä¸Šç­‰å¾…çš„é¡¾å®¢æ•°</span><br><span class="line"><span class="keyword">int</span> seat_free    ç©ºç€çš„æ¤…å­æ•°ç›®</span><br></pre></td></tr></table></figure> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Sleeping_barber_problem">å‚è€ƒwiki</a></p>
<h2 id="è§£ç­”">è§£ç­”</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*é¡¾å®¢è¿›ç¨‹*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">customer</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        P(accessSeat);  <span class="comment">//è¯•å›¾åä¸‹</span></span><br><span class="line">        <span class="keyword">if</span>(seat_free &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            seat_free--;  <span class="comment">//åä¸‹</span></span><br><span class="line">            V(num_wait);  <span class="comment">//è¯•å›¾å”¤é†’ç†å‘å¸ˆï¼Œ</span></span><br><span class="line">            V(accessSeat);  <span class="comment">//ä¸ç”¨å†é”ç€æ¤…å­</span></span><br><span class="line">            P(baberReady); <span class="comment">//ç­‰å¾…ç†å‘å¸ˆready</span></span><br><span class="line">            ç†å‘;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            V(accessSeat);  <span class="comment">//é‡Šæ”¾åŠ åœ¨æ¤…å­ä¸Šçš„é”</span></span><br><span class="line">            ç¦»å¼€;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç†å‘å¸ˆè¿›ç¨‹*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">barber</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        P(num_wait);   <span class="comment">//å°è¯•è·å¾—ä¸€ä½é¡¾å®¢ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå»ç¡è§‰</span></span><br><span class="line">        P(accessSeat);   <span class="comment">//å°è¯•è·å¾—æ¤…å­é”ï¼Œæ›´æ”¹ç©ºé—²æ¤…å­æ•°ç›®</span></span><br><span class="line">        seat_free++;    <span class="comment">//ç©ºæ¤…å­åŠ 1</span></span><br><span class="line">        V(baberReady);    <span class="comment">//ç†å‘å¸ˆå‡†å¤‡å¥½äº†</span></span><br><span class="line">        V(accessSeat);    <span class="comment">//æ— éœ€ç»§ç»­é”ç€æ¤…å­</span></span><br><span class="line">        ç†å‘;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/15/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/17/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="EIMadrigal"
      src="/images/favicon.png">
  <p class="site-author-name" itemprop="name">EIMadrigal</p>
  <div class="site-description" itemprop="description">Hello World</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">166</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/EIMadrigal" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;EIMadrigal" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:andrew.renj@gmail.com" title="E-Mail â†’ mailto:andrew.renj@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.cnblogs.com/EIMadrigal" title="cnblogs â†’ https:&#x2F;&#x2F;www.cnblogs.com&#x2F;EIMadrigal" rel="noopener" target="_blank"><i class="fab fa-codiepie fa-fw"></i>cnblogs</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/EIMadrigal" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;EIMadrigal" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018-02 â€“ 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">EIMadrigal</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">Total views: <span id="busuanzi_value_site_pv"></span></span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">Total visitors: <span id="busuanzi_value_site_uv"></span></span>
    <span class="post-meta-divider">|</span>

<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);
    var countOffset = 20000;

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset);
            clearInterval(int);
        }  
    }
       	
});
</script> 

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


</body>
</html>
